(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{22814:function(e){e.exports="/_next/static/images/4cd9511540ac7c742e8158f33feb2ee2.svg"},22546:function(e){e.exports="/_next/static/images/5fa6bc79d99bb72f7b0d443f08b1d9a9.svg"},80887:function(e){e.exports="/_next/static/images/00c73a095618e6b42bf6c5ab645fb8b7.svg"},76383:function(e){e.exports="/_next/static/images/68e1f6842e77d363cfc65d5ddb4ff2e3.svg"},64273:function(e){e.exports="/_next/static/images/c20f6c078ca6ed9bccaf454b04121e7c.svg"},20630:function(e){e.exports="/_next/static/images/0d9a20905c2ec5d5fc3277b2d7645c4a.svg"},2037:function(e){e.exports="/_next/static/images/e57d69173b5dd8cc5797c65ccd888964.svg"},89778:function(e,n,t){"use strict";t.d(n,{J:function(){return g}});var r=t(85893),a=t(26265),i=t(67294),o=t(43880),s=t(14626),c=t(10324),l=t(26723),u=t(28190);function d(e){var n=e.vestingRewardsTokens,t=e.yieldAPY,a=e.simpleRewards,i=e.vestingRewards,s=t&&t.gt(0),c=a&&a.gt(0),l=i&&i.gt(0)&&n,d=m();return s||c||l?(0,r.jsxs)(u.rj,{container:!0,spacing:2,wrap:"nowrap",children:[s&&(0,r.jsxs)(u.rj,{item:!0,children:[(0,r.jsx)(u.ZT,{className:d.amount,children:null===t||void 0===t?void 0:t.toFormattedString(2)}),(0,r.jsx)(u.ZT,{className:d.description,children:"Yield"})]}),c&&(0,r.jsxs)(u.rj,{item:!0,children:[(0,r.jsx)(u.ZT,{className:d.amount,children:null===a||void 0===a?void 0:a.toFormattedString(2)}),(0,r.jsx)(u.ZT,{className:d.description,children:"Protocol"}),(0,r.jsx)(u.ZT,{className:d.description,children:"Rewards"})]}),l&&(0,r.jsxs)(u.rj,{item:!0,children:[(0,r.jsx)(u.ZT,{className:d.amount,children:null===i||void 0===i?void 0:i.toFormattedString(2)}),(0,r.jsx)(u.ZT,{className:d.description,children:n&&o.Z("symbol",n).join("/")}),(0,r.jsx)(u.ZT,{className:d.description,children:"Vesting Rewards"})]})]}):null}var m=(0,l.ZL)((function(){return{amount:{marginBottom:4,fontSize:16,lineHeight:1.2,color:"#fff"},description:{fontSize:12,fontWeight:300,lineHeight:1.2,color:"#fff"}}}),{name:"APYTooltipTemplate"});function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e){var n=e.apyInfo,t=e.variant,a=e.title,l=void 0===a?"APY":a,u=j(),m=n.APYs,f=m.yieldAPY,g=m.simpleRewards,x=m.vestingRewards,b=(0,i.useMemo)((function(){return n.total.sub(x||0)}),[n.total,x]),h=(!f||f.isZero())&&(!g||g.isZero())&&x,v=l&&"".concat(l," ");return h?(0,r.jsxs)("span",{children:[v,w()]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{children:[v,(0,r.jsx)(c.l1,p({sum:b,variant:t},(f||g)&&{customTooltip:(0,r.jsx)(d,{yieldAPY:f,simpleRewards:g})}))]}),x&&!x.isZero()&&(0,r.jsxs)("span",{className:u.vestingAPY,children:[" + ",w("plain"),"\xa0",o.Z("symbol",n.vestingRewardsTokens).join("/")]})]});function w(e){return(0,r.jsx)(c.l1,{sum:x||new s.p7(0),variant:t||e,customTooltip:(0,r.jsx)(d,{vestingRewards:x,vestingRewardsTokens:n.vestingRewardsTokens})})}}var j=(0,l.ZL)((function(e){return{vestingAPY:p(p({},(0,l.no)(e)),{},{fontWeight:300,fontSize:12,marginTop:6,whiteSpace:"pre-wrap"})}}))},43310:function(e,n,t){"use strict";t.d(n,{y7:function(){return a.a},g$:function(){return o.a},rX:function(){return c.a},Xf:function(){return u.a}});var r=t(22814),a=t.n(r),i=t(22546),o=t.n(i),s=t(80887),c=t.n(s),l=t(76383),u=t.n(l)},99441:function(e,n,t){"use strict";t.d(n,{Z4:function(){return D}});var r=t(14626),a=t(19831);function i(e){return e.amount?[e.amount]:[]}function o(e,n){switch(n.module){case"staking":return{poolAddress:n.address,amount:e.amount||a.QU};case"savings":case"vaultsV1":case"vaultsV2":return e.amount?[{poolAddress:n.address,amount:e.amount}]:[]}}function s(e){var n=e.userBalance,t=e.availableForDeposit;if(null===t)return{maxValue:n,legacyMaxErrorTKey:null};var a=t&&(0,r.rS)(t,n.currency);return{maxValue:(0,r.VV)(n,a),legacyMaxErrorTKey:{key:n.gt(a)?"depositLimitExceeded":"insufficientFunds",userBalance:n}}}var c=t(85893),l=t(67294),u=t(89346),d=t(55709),m=t(18170),f=t(68981),p=t(58955),g=t(51392),j=t(93147),x=t(10324),b=t(21786),h=t(40183),v=t(35586),w=t(26723),y=t(26265),k=t(32292),O=t(75142),Z=t(15737);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,y.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e,n){return(0,p.eM)((function(){return(0,O.aj)(e.map((function(e){return n(e)}))).pipe((0,d.U)((function(n){return e.reduce((function(e,t,r){return N(N({},e),{},(0,y.Z)({},t,n[r]))}),{})})))}),[n,e.toString()])};function D(e){var n=e.pool,t=e.allocateApi,r=e.approveSpender,a=e.submitButtonText,u=e.formTitle,b=e.onSuccessfulDeposit,h=function(e,n,t){var r=(0,g.V)(e),a=S(r.map((function(e){return e.address})),n),i=(0,p.eM)((function(){return t(e.address)}),[t,e.address]);return(0,Z.$e)(a,i).map((function(e){var n=(0,k.Z)(e,2),t=n[0],a=n[1];return r.map((function(e){return{token:e,info:s({availableForDeposit:a,userBalance:t[e.address]})}})).reduce((function(e,n){return N(N({},e),{},(0,y.Z)({},n.token.address,n.info))}),{})}))}(n,t.getTokenBalance$,t.getAvailableForDeposit$).map((function(e){return{tokensMaxValues:e,sortedTokens:(0,v.xT)((0,g.V)(n),f.Z((function(e){return e.maxValue}),e))}})),w=t.getTotalDepositFee$,O=(0,l.useCallback)((function(e){var n=i(e.formState);return t.hasMultipleApprove$(n,r)}),[t,r]),P=(0,l.useCallback)((function(e){var n=e.formState,t=e.submitting;return(0,c.jsx)(T,{values:n,approveSpender:r,freezeApprovingStatus:t})}),[r]),D=(0,l.useCallback)((function(e){var n=e.formState;return e.valid&&n.amount&&!n.amount.isZero()?t.hasMultipleApprove$(i(n),r).pipe((0,d.U)((function(e){return!e}))):(0,m.of)(!0)}),[t,r]),R=(0,l.useCallback)((function(e){var t=e.formState,r=w?{label:"External fees",getValue$:function(){var e=o(t,n);return w(e)},renderValue:function(e){return(0,c.jsx)(x.at,{fee:e})}}:null;return r?[r]:[]}),[w,n]);return(0,c.jsx)(j.W6,{payload:null,canCalcTermsAndEstimatedGas$:O,getTransaction:function(){return{transaction:t.deposit,makeTransactionOptions:function(e){return o(e.formState,n)}}},content:{title:u||"Confirm allocation",hideDivider:!0,renderBeforeEstimatedGas:P,hideTermsAndEstimatedGas$:D,getTerms:R},onSuccessfulTransaction:b,submitButtonText:a,children:(0,c.jsx)(x.rj,{item:!0,xs:!0,children:(0,c.jsx)(x.gb,{data:h,children:function(e){var n=e.sortedTokens,t=e.tokensMaxValues;return(0,c.jsx)(B,{tokens:n,tokensMaxValues:t})}})})})}function B(e){var n=e.tokens,t=e.tokensMaxValues,a=(0,h.qM)().t,i=(0,l.useState)(n[0]),o=i[0],s=i[1],d=(0,u.cI)(),m=t[o.address],f=m.maxValue,g=m.legacyMaxErrorTKey,x=null===f||void 0===f?void 0:f.isZero();(0,p.v6)(x,(function(e,n){return!1===e&&!0===n}),(function(){return d.change("amount",new r.dt(0,o))}));var b=(0,l.useCallback)((function(e){var n=e.values.amount;!n||o&&o.equals(n.currency)||s(n.currency)}),[o]),v=g?"insufficientFunds"===g.key?a(h.yd.utils.validation.insufficientFunds.getKey(),{value:g.userBalance.toFormattedString()}):h.yd.utils.validation.depositLimitExceeded.getKey():void 0,w=(0,p.n0)({required:!0,moreThanZero:!0,maxValue:f&&!x?f:void 0,maxErrorTKey:v});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(j.Gc,{name:"amount",currencies:n,placeholder:"Enter sum",validate:w,maxValue:null!==f&&void 0!==f?f:void 0,disabled:x,disabledAlert:o?a(h.yd.features.allocate.emptyWallet.getKey(),{currency:o.symbol}):void 0}),(0,c.jsx)(u.lP,{subscription:{values:!0},onChange:b}),(0,c.jsx)(j.Ds,{name:"__",fieldValue:w})]})}function T(e){var n=e.values,t=e.approveSpender,r=e.freezeApprovingStatus,a=R(),o=(0,l.useMemo)((function(){return i(n)}),[n]);return o.every((function(e){return e.isZero()}))?null:(0,c.jsx)(b.s,{className:a.approvingContainer,approveSpender:t,tokenAmounts:o,freezeApprovingStatus:r})}var R=(0,w.ZL)((function(){return{approvingContainer:{marginTop:-12}}}),{name:"AllocateOnePool"})},18332:function(e,n,t){"use strict";t.d(n,{j4:function(){return dn},W1:function(){return Ue},Q8:function(){return ve},Yv:function(){return tn},zl:function(){return Ke},Fw:function(){return ie}});var r=t(85893),a=t(26265),i=t(32292),o=t(38347),s=t(67294),c=t(10324),l=t(52048),u=t(40183),d=t(58955),m=t(59811),f=t(65518),p=t(28140),g=t(18170),j=t(93147),x=t(26723),b=t(89346),h=t(14626),v=t(35586),w=function(e){var n=e.data;return(0,r.jsx)(c.iA.Component,{rowPadding:"extra-small",titlePadding:"extra-small",indentFromHeader:"extra-small",entries:n,columns:[{renderTitle:function(){return"Assets"},cellContent:{kind:"simple",render:function(e){return(0,r.jsx)(c.O_,{token:e.token})}}},{renderTitle:function(){return"Approximate Balance"},cellContent:{kind:"simple",render:function(e){return(0,r.jsx)(c.l1,{sum:e.balance,variant:"plain",hideSymbol:!0})}},align:"right"}]})},y=t(28190),k=t(94184),O=t.n(k),Z=t(13454),P=t(53278),N=t(57858),S=t(43880),D=t(41458),B=function(e,n){return"".concat(e.address,"-").concat(n.pool.address)},T=function(e,n){return n.map((function(n){return B(e,n)}))},R=function(e,n,t){return Boolean(t[B(e,n)])},C=function(e,n){var t=e.token,r=e.poolsRewards;return(0,v.bn)(r.filter((function(e){return R(t,e,n)})).map((function(e){return e.amount})),new h.dt(0,t))},M=function(e,n){return(0,v.Z9)(e.map((function(e){return function(e,n){var t=e.token,r=e.poolsRewards;return(0,v.Z9)(r.filter((function(e){return R(t,e,n)})).map((function(e){return e.nav})),"$")}(e,n)})),"$")},V=t(64273),L=t.n(V),A=function(e){var n=e.rewards,t=(0,b.cI)(),a=(0,b.cl)({subscription:{values:!0}}).values,i=(0,s.useState)(n[0].token.address),o=i[0],l=i[1],d=(0,s.useState)([]),m=d[0],f=d[1],g=_(m,o),j=(0,s.useMemo)((function(){return m.map((function(e){return n.find((function(n){var t=n.token;return(0,h.bZ)(t.address,e)}))})).filter((function(e){return Boolean(e)})).map((function(e){return{token:e.token,balance:C(e,a)}}))}),[n,m,a]),x=(0,s.useMemo)((function(){return n.filter((function(e){var n=e.token;return!_(m,n.address)})).map((function(e){return e.token}))}),[n,m]),v=n.find((function(e){var n=e.token;return(0,h.bZ)(n.address,o)})),w=(0,s.useMemo)((function(){return!!v&&v.poolsRewards.some((function(e){return Boolean(a[B(v.token,e)])}))}),[a,v]);(0,s.useEffect)((function(){!n.some((function(e){return(0,h.bZ)(e.token.address,o)}))&&l(n[0].token.address)}),[n]);var k=(0,s.useMemo)((function(){return n.filter((function(e){var n=e.token;return!_(m,n.address)&&!(0,h.bZ)(n.address,o)})).map((function(e){return e.token}))}),[n,m,o]),O=(0,s.useCallback)((function(){f(Z.Z([].concat((0,p.Z)(m),[o]))),l(k[0].address)}),[k,m,o]),S=(0,s.useCallback)((function(e){var r,a=n.find((function(n){var t=n.token;return(0,h.bZ)(t.address,e.address)}));if(a){var i=T(e,a.poolsRewards);t.batch((function(){i.forEach((function(e){t.change(e,!1)}))}))}(0,h.bZ)(o,e.address)&&l((null===(r=x[0])||void 0===r?void 0:r.address)||P.Z(m)||o);f(N.Z([e.address],m))}),[o,m,x,n,t]),D=(0,s.useCallback)((function(e){l(e.address),w&&f(Z.Z([].concat((0,p.Z)(m),[o])))}),[m,o,w]),R=(0,s.useCallback)((function(e){f(w?Z.Z([].concat((0,p.Z)(m),[o])):N.Z([o],m)),l(e.address)}),[m,o,w]),M=!k.length||!w;return(0,r.jsxs)(r.Fragment,{children:[j.map((function(e){var n=e.token,t=e.balance;return(0,r.jsx)(V,{token:n,balance:t,onDelete:S,onEdit:R},n.address)})),!g&&v&&(0,r.jsx)(z,{token:v.token,poolsRewards:v.poolsRewards,uncompletedTokens:x,onSelectToken:D}),(0,r.jsx)($,{disabled:M,onAddToken:O})]});function V(e){var n=e.token,t=e.balance,a=e.onDelete,i=e.onEdit,o=(0,u.qM)().t,l=q(),d=(0,s.useCallback)((function(){a(n)}),[a,n]),m=(0,s.useCallback)((function(){i(n)}),[i,n]);return(0,r.jsxs)(c.rj,{className:l.completedTokenRow,container:!0,children:[(0,r.jsxs)(c.rj,{item:!0,container:!0,xs:6,children:[(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)(c.O_,{token:n})}),(0,r.jsx)(c.rj,{item:!0,children:n!==(null===v||void 0===v?void 0:v.token)&&(0,r.jsx)(y.zx,{variant:"outlined",color:"primary",size:"extra-small",onClick:m,className:l.editButton,fullWidth:!0,children:o(u.yd.features.rewards.editButton.getKey())})})]}),(0,r.jsx)(c.rj,{className:l.alignRight,item:!0,xs:4,children:(0,r.jsx)(c.l1,{sum:t,variant:"plain",hideSymbol:!0})}),(0,r.jsx)(c.rj,{className:l.alignRight,item:!0,xs:2,children:(0,r.jsx)(U,{onClick:d})}),g&&v&&(0,h.bZ)(n.address,v.token.address)&&(0,r.jsx)(I,{token:v.token,poolsRewards:v.poolsRewards})]})}},z=function(e){var n=e.token,t=e.poolsRewards,a=e.uncompletedTokens,i=e.onSelectToken,o=q(),l=(0,b.cl)({subscription:{values:!0}}).values,u=(0,s.useMemo)((function(){return a.map((function(e){return{id:F(e),label:K(e)}}))}),[a]),d=n,m=(0,s.useCallback)((function(e){var n=e.target.value,t=F&&a.find((function(e){return F(e)===n}));t&&i(t)}),[i,a]);return(0,r.jsxs)(c.rj,{container:!0,alignContent:"center",children:[(0,r.jsx)(c.rj,{item:!0,xs:6,className:o.selectInput,children:u.length>1?(0,r.jsx)(y.lq,{options:u,onChange:m,value:d&&F(d)}):u[0].label}),(0,r.jsx)(c.rj,{className:O()(o.alignRight,o.selectInput),item:!0,xs:4,children:(0,r.jsx)(c.l1,{sum:C({token:n,poolsRewards:t},l),variant:"plain",hideSymbol:!0})}),(0,r.jsx)(I,{token:n,poolsRewards:t})]})},I=function(e){var n=e.token,t=e.poolsRewards,a=q(),i=(0,v.bn)(S.Z("amount",t),new h.dt(0,n));return(0,r.jsxs)(c.rj,{container:!0,children:[(0,r.jsx)(c.rj,{item:!0,xs:6,children:(0,r.jsx)(W,{token:n,poolRewards:t})}),(0,r.jsx)(c.rj,{className:a.alignRight,item:!0,xs:4,children:(0,r.jsx)(c.l1,{sum:i,variant:"plain",hideSymbol:!0})}),t.map((function(e){return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(c.rj,{item:!0,xs:6,children:(0,r.jsx)(j.ji,{className:a.inputPadding,name:B(n,e),label:(0,r.jsx)("span",{className:a.poolName,children:e.pool.poolName})})}),(0,r.jsx)(c.rj,{className:a.alignRight,item:!0,xs:4,children:(0,r.jsx)(c.l1,{sum:e.amount,variant:"plain",hideSymbol:!0})})]},B(n,e))}))]})},W=function(e){var n=e.token,t=e.poolRewards,a=q(),i=(0,u.qM)().t,o=(0,b.cI)(),c=(0,b.cl)({subscription:{values:!0}}).values,l=T(n,t),d=(0,s.useCallback)((function(e,n){o.batch((function(){l.forEach((function(e){o.change(e,n)}))}))}),[o,l]),m=l.every((function(e){return Boolean(c[e])}));return(0,r.jsx)(y.I0,{className:a.inputPadding,checked:m,onChange:d,label:i(u.yd.features.rewards.checkAll.getKey())})},E=function(e){var n=e.currency,t=q();return(0,r.jsx)("span",{className:t.tokenSymbol,children:(0,r.jsx)(c.O_,{token:n})})},$=function(e){var n=e.onAddToken,t=e.disabled,i=(0,x.Nj)(),o=(0,u.qM)().t,s=H({backgroundColor:i});return(0,r.jsxs)(y.zx,{variant:"text",disabled:t,className:O()(s.button,(0,a.Z)({},s.disabled,t)),onClick:n,children:[(0,r.jsx)("div",{className:s.buttonIcon}),o(u.yd.features.rewards.addTokenButton.getKey())]})},U=function(e){var n=e.onClick;return(0,r.jsx)(y.hU,{size:"small",onClick:n,children:(0,r.jsx)(D.XH,{})})},K=function(e){return(0,r.jsx)(E,{currency:e})},F=function(e){return e.address},_=function(e,n){return e.some((function(e){return(0,h.bZ)(e,n)}))},q=(0,x.ZL)((function(e){return{completedTokenRow:{marginBottom:20},inputPadding:{padding:"5px 9px 5px 11px"},poolName:{whiteSpace:"nowrap"},checkbox:{marginLeft:2,marginTop:"-5px",marginBottom:"-5px"},alignRight:{display:"flex",justifyContent:"flex-end",alignItems:"center"},tokenSymbol:(0,a.Z)({fontSize:12},e.breakpoints.up("tabletSM"),{fontSize:16}),editButton:{verticalAlign:"top",minWidth:"auto !important",marginLeft:10},selectInput:{marginBottom:8}}}),{name:"DinamicForm"}),H=(0,x.ZL)((function(e){return{button:{marginTop:25,marginBottom:5,padding:"1px 8px 1px 0",minHeight:"unset",display:"flex"},disabled:{display:"none"},buttonIcon:{marginRight:9,borderRadius:11,position:"relative",width:22,height:22,background:e.gradients.main.linear("to right"),"&:before":{display:"block",content:"''",position:"absolute",top:1,right:1,bottom:1,left:1,borderRadius:10,backgroundImage:"url(".concat(L(),")"),backgroundColor:function(n){return n.backgroundColor||e.palette.background.paper},transition:e.transitions.create("opacity"),backgroundSize:"50%",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}}}),{name:"AddAssetButton"});function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=[{label:"All",value:"all"},{label:"Partially",value:"part"}],Q=function(e){var n=e.rewards,t=(0,s.useState)("all"),a=t[0],i=t[1],o=(0,u.qM)().t,l=J(),d=(0,b.cI)(),m=(0,s.useMemo)((function(){return n.map((function(e){var n=e.token,t=e.poolsRewards;return{balance:(0,v.bn)(t.map((function(e){return e.amount})),new h.dt(0,n)),token:n}}))}),[n]),f=(0,s.useCallback)((function(e,t){var r=n.reduce((function(e,n){return[].concat((0,p.Z)(e),(0,p.Z)(T(n.token,n.poolsRewards)))}),[]),a="all"===t;d.batch((function(){r.forEach((function(e){d.change(e,a)}))})),t&&i(t)}),[d,n]),g=(0,b.cl)({subscription:{values:!0}}).values,j=(0,s.useMemo)((function(){return M(n,g)}),[n,g]),y=(0,x.Db)({to:"mobileMD"});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.rj,{container:!0,spacing:2,alignItems:"center",children:[(0,r.jsxs)(c.rj,{item:!0,container:!0,className:l.header,children:[(0,r.jsx)(c.rj,{item:!0,xs:4,children:(0,r.jsx)(c.ZT,{variant:"h5",gutterBottom:!0,className:l.title,children:o(u.yd.features.rewards.withdraw.getKey())})}),(0,r.jsx)(c.rj,{item:!0,xs:8,children:(0,r.jsx)(c.q5,{value:a,children:(0,r.jsx)(c.td,{value:a,onChange:f,variant:y?"fullWidth":"standard",className:l.tabList,children:X.map((function(e){return(0,s.createElement)(c.OK,G(G({},e),{},{className:l.tab,key:e.value}))}))})})})]}),(0,r.jsx)(c.rj,{className:l.leftColumnAlign,item:!0,xs:12,sm:4,children:"all"===a?o(u.yd.features.rewards.fromAllPools.getKey()):null}),(0,r.jsx)(c.rj,{item:!0,xs:12,sm:8,className:l.assetsTable,children:"all"===a?(0,r.jsx)(w,{data:m}):(0,r.jsx)(A,{rewards:n})}),(0,r.jsx)(c.rj,{item:!0,xs:12,children:(0,r.jsx)("div",{className:l.borderLine})}),(0,r.jsx)(c.rj,{item:!0,xs:4,className:l.totalValueIndent,children:o(u.yd.features.rewards.totalValue.getKey())}),(0,r.jsx)(c.rj,{item:!0,xs:8,className:l.totalValueIndent,children:(0,r.jsx)(c.l1,{className:l.totalValue,sum:j,variant:"plain"})})]})})},J=(0,x.ZL)((function(e){var n,t;return{header:(n={marginBottom:0},(0,a.Z)(n,e.breakpoints.up("mobileLG"),{marginBottom:10}),(0,a.Z)(n,e.breakpoints.up("desktopXS"),{marginBottom:30}),n),title:(t={fontSize:16},(0,a.Z)(t,e.breakpoints.up("mobileMD"),{fontSize:20}),(0,a.Z)(t,e.breakpoints.up("tabletXS"),{fontSize:24}),t),tabList:(0,a.Z)({width:"100%"},e.breakpoints.up("mobileMD"),{width:"initial"}),tab:(0,a.Z)({padding:"0 10px",minWidth:"initial"},e.breakpoints.up("mobileMD"),{padding:"0 20px"}),leftColumnAlign:{alignSelf:"flex-start"},borderLine:{opacity:.1,border:"solid 1px #ffffff"},totalValue:(0,a.Z)({fontWeight:300,fontSize:16},e.breakpoints.up("mobileMD"),{fontSize:22}),totalValueIndent:{marginTop:8},assetsTable:{marginBottom:8}}}),{name:"WidhrawFormContent"});function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var te=function(e){var n=e.rewards,t=e.onSuccessfulWithdraw,i=(0,x.Fg)(),o=(0,l.h_)(),c=(0,s.useMemo)((function(){return function(e){return e.reduce((function(e,n){return[].concat((0,p.Z)(e),(0,p.Z)(T(n.token,n.poolsRewards)))}),[])}(n).reduce((function(e,n){return ne(ne({},e),{},(0,a.Z)({},n,!0))}),{})}),[n]),u=(0,s.useCallback)((function(){return(0,g.of)(!0)}),[]),d=(0,s.useCallback)((function(e){var t=e.formState;return{transaction:o.rewards.withdrawUserRewards,makeTransactionOptions:function(){return n.reduce((function(e,n){var r=n.token,a=n.poolsRewards.filter((function(e){return R(r,e,t)}));return a.length?[].concat((0,p.Z)(e),[{token:r,poolsRewards:a}]):e}),[])}}}),[o,n]);return(0,r.jsx)(x.vI,{backgroundColor:i.palette.background.paper,children:(0,r.jsx)(j.W6,{payload:null,canCalcTermsAndEstimatedGas$:u,getTransaction:d,formProps:{initialValues:c},submitButtonText:"Withdraw",onSuccessfulTransaction:t,children:(0,r.jsx)(Q,{rewards:n})})})};function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ie(e){var n=(0,u.qM)().t,t=e.disabled,a=(0,o.Z)(e,["disabled"]),s=(0,l.h_)(),p=(0,d.eM)((function(){return s.user.getSimpleRewards$()}),[s]),g=(0,f.j)(["delphi"]).getOrElse((function(){return[!0]})),j=(0,i.Z)(g,1)[0]||t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.gb,{data:p,loader:(0,r.jsx)(c.zx,ae(ae({},a),{},{disabled:!0,children:n(u.yd.features.rewards.withdraw.getKey())})),children:function(e){return(0,r.jsx)(c.mH,ae(ae({},a),{},{size:"small",color:"primary",variant:"outlined",disabled:j||(0,m.Du)(e).isZero(),content:n(u.yd.features.rewards.withdraw.getKey()),children:function(n){var t=n.closeModal;return(0,r.jsx)(te,{rewards:e,onSuccessfulWithdraw:t})}}))}})})}var oe=t(45896);t(95859),t(15724);t(2037),u.yd.features.rewards;(0,oe.ZL)((function(){return{title:{fontSize:22,fontWeight:400,paddingBottom:30}}}),{name:"EmptyRewardsPage"});var se=t(63896),ce=t(73316),le=t(55709),ue=t(75142),de=t(30381),me=t.n(de);function fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ge=u.yd.features.rewards.distributedRewardMetric;function je(e){var n=e.reward,t=n.amount,a=n.fullUnlockDate,i=n.type,o=(0,u.qM)().t,s=xe(),l=Number(new Date(a))<=Date.now();return(0,r.jsxs)(c.rj,{container:!0,direction:"column",children:[(0,r.jsxs)(c.rj,{item:!0,container:!0,wrap:"nowrap",alignItems:"center",children:[(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)(c.T1,{tokenAddress:t.currency.address})}),(0,r.jsxs)(c.rj,{item:!0,className:s.amount,children:[(0,r.jsx)(c.l1,{sum:t,hideSymbol:!0,className:s.value}),"\xa0",(0,r.jsx)("span",{className:s.symbol,children:t.currency.symbol})]})]}),!l&&(0,r.jsxs)(c.rj,{item:!0,className:s.date,children:[o("delphi"===i?ge.delphiUntil.getKey():ge.dexUntil.getKey()),"\xa0",me()(a).format("DD MMM YYYY")]})]})}var xe=(0,oe.ZL)((function(e){return{value:{fontWeight:300,fontSize:"inherit"},date:pe(pe({},(0,x.no)(e)),{},{fontWeight:300,marginLeft:30,lineHeight:1.2}),symbol:{fontSize:"0.8em",fontWeight:300},amount:{marginLeft:10}}}),{name:"RewardDistributionMetric"}),be=1e3,he=u.yd.features.rewards;function ve(){var e=we(),n=(0,l.h_)(),t=(0,u.qM)().t,a=(0,d.eM)((function(){return(0,ue.aj)([n.user.getVestedRewards$("delphi",be),n.user.getVestedRewards$("dex",be)]).pipe((0,ce.p)(be),(0,le.U)((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return{rewardsDelphi:(0,v.Kg)(t,"adel"),rewardsDex:(0,v.zo)(r)}})))}),[n]);return(0,r.jsx)(c.Pg,{children:(0,r.jsxs)(c.rj,{container:!0,children:[(0,r.jsx)(c.rj,{item:!0,xs:12,children:(0,r.jsx)(c.gb,{data:a,children:function(n){return function(n){var a=(0,v.Z9)(S.Z("nav",n),"$");return(0,r.jsxs)(c.rj,{container:!0,direction:"column",children:[(0,r.jsx)(c.rj,{item:!0,className:e.metricTitle,children:t(he.vestedHarvest.getKey())}),(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)(c.l1,{className:e.metricValue,sum:a})})]})}(se.Z(n).flat())}})}),(0,r.jsxs)(c.rj,{item:!0,xs:12,children:[(0,r.jsx)(c.gb,{data:a,children:function(e){var n=e.rewardsDelphi;return(0,r.jsx)(c.rj,{container:!0,item:!0,children:n.map((function(e){return o(e)}))})}}),(0,r.jsx)(c.gb,{data:a,children:function(e){var n=e.rewardsDex;return(0,r.jsx)(c.rj,{container:!0,item:!0,children:n.map((function(e){return o(e)}))})}})]})]})});function o(n){return(0,r.jsx)(c.rj,{item:!0,xs:12,className:e.rewardMetric,children:(0,r.jsx)("div",{className:e.amount,children:(0,r.jsx)(je,{reward:n})})},"".concat(n.type).concat(n.amount.currency.address))}}var we=(0,oe.ZL)((function(){return{amount:{fontSize:22},metricTitle:{fontSize:16,marginBottom:7},metricValue:{fontSize:22,fontWeight:300},rewardMetric:{marginTop:17}}}),{name:"VestedHarvestCard"}),ye=t(43310),ke=t(6059);function Oe(e){var n=e.endDate,t=e.intervalDelay,a=e.children;return(0,r.jsx)(ke.ZP,{date:n,intervalDelay:t,precision:2,renderer:function(e){var n=e.days,t=e.completed;return a({completed:t,timeLeft:String(n)})}})}var Ze=u.yd.features.rewards.nextDistribution;function Pe(e){var n=e.distributionDate,t=Ne(),a=(0,u.qM)().t;return(0,r.jsx)(Oe,{endDate:n,intervalDelay:1e3,children:function(e){var n=e.completed,i=e.timeLeft;return n?(0,r.jsxs)(c.rj,{container:!0,alignItems:"center",children:[(0,r.jsx)(c.rj,{item:!0,className:t.notificationIcon,children:(0,r.jsx)(D.x,{fontSize:"inherit"})}),(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)("div",{className:O()(t.notification,t.completed),children:a(Ze.happeningNow.getKey())})})]}):(0,r.jsxs)(c.rj,{container:!0,alignItems:"center",children:[(0,r.jsx)(c.rj,{item:!0,className:t.notificationIcon,children:(0,r.jsx)(D.mU,{fontSize:"inherit"})}),(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)("div",{className:O()(t.notification),children:a(Ze.nextDistributionWillOccur.getKey(),{timeLeft:i})})})]})}})}var Ne=(0,x.ZL)((function(){return{notificationIcon:{fontSize:30},notification:{padding:"1px 6px 2px 7px",borderRadius:10,fontSize:12,fontWeight:300,background:"#494972","&$completed":{background:"radial-gradient(circle at 31% 30%, #594aff, #3b2ece 66%)"}},completed:{}}}),{name:"NextDistribution"});function Se(e){var n=e.value,t=e.color,a=De(),i=n.toNumber()>=100;return(0,r.jsxs)("div",{className:a.root,children:[(0,r.jsx)("div",{className:a.bar,children:(0,r.jsx)("div",{className:O()(a.filledValue,i?a.completed:t&&a[t]),style:{width:i?"100%":"".concat(n.toNumber(),"%")}})}),(0,r.jsx)("div",{className:a.percent,children:i?(0,r.jsx)(D.X,{fontSize:"small"}):(0,r.jsx)(c.l1,{variant:"plain",sum:n,precision:0})})]})}var De=(0,x.ZL)((function(e){return{root:{display:"flex",alignItems:"center",flexWrap:"nowrap"},bar:{flexGrow:1,height:4,borderRadius:2,background:e.palette.background.default},filledValue:{height:"100%",borderRadius:2,background:"linear-gradient(to bottom, #c6b0ff, #9360ff)","&$blue":{background:"linear-gradient(266deg, #02a4ff, #7d40ff)"},"&$pink":{background:"linear-gradient(86deg, #ff2382 10%, #ff80cd 128%)"},"&$completed":{background:"linear-gradient(to top, #33a455, #6bff97)"}},percent:{width:33,marginLeft:10,fontSize:16,fontWeight:300,display:"flex",alignItems:"center",justifyContent:"flex-end"},blue:{},pink:{},completed:{}}}),{name:"ProgressBar"});function Be(e){var n=e.value,t=Te();return(0,r.jsxs)(c.rj,{container:!0,wrap:"nowrap",alignItems:"center",children:[(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)(c.T1,{tokenAddress:n.currency.address})}),(0,r.jsx)(c.rj,{item:!0,className:t.amountContainer,children:(0,r.jsx)(c.l1,{sum:n,hideSymbol:!0,className:t.amount})})]})}var Te=(0,x.ZL)((function(){return{amountContainer:{marginLeft:10},amount:{fontSize:22,fontWeight:300}}}),{name:"Amount"}),Re=t(13550),Ce=t.n(Re),Me=t(34215),Ve=function(e){return new(Ce())(Me.$I[Le(e.currency.symbol)]).mul((0,h.WT)(e.currency.decimals))},Le=function(e){var n=e.toLowerCase();if("adel"!==n&&"akro"!==n)throw new Error("Unknown symbol ".concat(e,"!"));return n};function Ae(e){var n=e.value,t=ze(),a=n.isNeg()?n.withValue(0):n,i=Le(a.currency.symbol),o=Ve(a),s=new h.p7(a.div(o).mul(100));return(0,r.jsxs)("div",{className:t.root,children:[(0,r.jsx)("div",{className:t.amount,children:(0,r.jsx)(Be,{value:a})}),(0,r.jsx)("div",{className:t.bar,children:(0,r.jsx)(Se,{value:s,color:"adel"===i?"blue":"pink"})})]})}var ze=(0,x.ZL)((function(){return{root:{display:"flex",alignItems:"center",flexWrap:"nowrap"},amount:{width:136},bar:{flexGrow:1}}}),{name:"DistributionProgress"}),Ie=(0,x.ZL)((function(){return{root:{},content:{height:"100%"},rewards:{marginBottom:22,"$withBackground &:last-child":{marginBottom:85}},delphiRewards:{marginBottom:22},dexRewards:{marginBottom:24},title:{marginBottom:7,fontSize:16,"$rewards:first-child &":{marginBottom:15}},distributionProgress:{marginBottom:4},emptyRewards:{fontSize:16,fontWeight:300,lineHeight:1.5,marginBottom:85},withBackground:{}}}),{name:"NextDistribution"});function We(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?We(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $e=u.yd.features.rewards.nextDistribution;function Ue(){var e=Ie(),n=(0,u.qM)().t,t=(0,l.h_)(),o=(0,d.eM)((function(){return(0,ue.aj)([(0,ue.aj)([t.user.getVestedRewards$("delphi",1e4),t.user.getVestedRewards$("dex",1e4)]),t.vestedRewards.getNextDistributionDate$("delphi","adel").pipe((0,le.U)((function(e){return new Date(e).getTime()})))]).pipe((0,le.U)((function(e){var n=(0,i.Z)(e,2),t=(0,i.Z)(n[0],2),r=t[0],a=t[1],o=n[1];return{delphiRewards:(0,v.Kg)(r,"adel"),dexRewards:(0,v.zo)(a),distributionDate:o}})))}),[t]),s=o.toUndefined(),m=s&&[s.delphiRewards,s.dexRewards].flat().some((function(e){return function(e){return e.nextDistribution.gte(Ve(e.nextDistribution))}(e)})),f=null===s||void 0===s?void 0:s.delphiRewards.every((function(e){return e.nextDistribution.isZero()})),p=null===s||void 0===s?void 0:s.dexRewards.every((function(e){return e.nextDistribution.isZero()})),g=f&&p,j=!m&&(f||p);return(0,r.jsx)(c.Pg,Ee(Ee({className:O()(e.root,(0,a.Z)({},e.withBackground,j))},j&&{background:{imageUrl:ye.rX,size:"auto",position:"right 20px bottom 20px"}}),{},{children:(0,r.jsx)(c.gb,{data:o,children:function(t){var a=t.delphiRewards,i=t.dexRewards,o=t.distributionDate;return(0,r.jsx)(r.Fragment,{children:g?(0,r.jsx)(c.ZT,{className:e.emptyRewards,children:n($e.emptyRewardsText.getKey())}):(0,r.jsxs)(c.rj,{className:e.content,container:!0,direction:"column",justify:"space-between",children:[(0,r.jsxs)(c.rj,{item:!0,children:[f?null:(0,r.jsxs)("div",{className:O()(e.rewards,e.delphiRewards),children:[(0,r.jsx)("div",{className:e.title,children:(0,r.jsx)(c.__,{hint:n($e.delphiHint.getKey()),children:n($e.delphiTitle.getKey())})}),a.map((function(n,t){return!n.nextDistribution.isZero()&&(0,r.jsx)("div",{className:e.distributionProgress,children:(0,r.jsx)(Ae,{value:n.nextDistribution})},t)}))]}),p?null:(0,r.jsxs)("div",{className:O()(e.rewards,e.dexRewards),children:[(0,r.jsx)("div",{className:e.title,children:(0,r.jsx)(c.__,{hint:f&&n($e.dexHint.getKey()),children:n($e.dexTitle.getKey())})}),i.map((function(n,t){return!n.nextDistribution.isZero()&&(0,r.jsx)("div",{className:e.distributionProgress,children:(0,r.jsx)(Ae,{value:n.nextDistribution})},t)}))]})]}),m&&(0,r.jsx)(c.rj,{item:!0,children:(0,r.jsx)(Pe,{distributionDate:o})})]})})}})}))}function Ke(e){var n=e.value,t=_e(),a=n.isNeg()?n.withValue(0):n,i=Ve(a),o=a.div(i).mul(100),s=new h.p7(o.lt(100)?o:100);return(0,r.jsxs)("div",{className:t.root,children:[(0,r.jsx)("div",{className:t.percent,children:(0,r.jsx)(c.l1,{variant:"plain",sum:s,precision:0})}),(0,r.jsx)(Fe,{value:s}),(0,r.jsx)("div",{className:t.percent,children:(0,r.jsx)(c.l1,{variant:"plain",sum:new h.dt(i,n.currency),precision:0,withSI:!0})})]})}function Fe(e){var n=e.value,t=_e();return(0,r.jsx)("div",{className:t.bar,children:(0,r.jsx)("div",{className:O()(t.filledValue),style:{width:"".concat(n.toNumber(),"%")}})})}var _e=(0,x.ZL)((function(e){return{root:{display:"flex",alignItems:"center",flexWrap:"nowrap"},bar:{flexGrow:1,height:4,borderRadius:2,background:e.palette.background.default,marginLeft:7,marginRight:7},filledValue:{height:"100%",borderRadius:2,background:"linear-gradient(268deg, #02a4ff, #7d40ff)"},percent:{fontSize:12,color:"rgba(255, 255, 255, 0.5)",display:"flex",alignItems:"center"}}}),{name:"UnlockProgress"});function qe(){var e=He();return(0,r.jsx)("div",{className:e.root,children:"Vesting"})}var He=(0,x.ZL)((function(){return{root:{borderRadius:9.5,backgroundColor:"#494972",fontSize:12,fontWeight:300,padding:"0 6px 1px"}}}),{name:"VestingRewardHint"}),Ye=t(60992);function Ge(e){var n=e.currentPoolBalance,t=e.currentUserBalance,r=e.nextUserBalance,a=e.rewardsPeerWeek,i=a.simple,o=a.vesting,s=n.sub(t).add(r),c=s.isZero()?new h.iA(0):new h.iA(r).div(s);return(0,p.Z)(o).sort((function(e){return"akro"===e.currency.symbol.toLowerCase()?-1:1})).map((function(e){return{amount:e.mul(c),isVesting:!0}})).concat(i.map((function(e){return{amount:e.mul(c),isVesting:!1}})))}var Xe=function(e){var n=e.amount,t=e.classes,i=e.toggleVestedHints,o=e.hideBalanceSum;return[{renderTitle:function(){return(0,r.jsxs)(r.Fragment,{children:["Rewards"," ",o&&(0,r.jsxs)(r.Fragment,{children:["(by $",(0,r.jsx)(c.l1,{sum:n,hideSymbol:!0,variant:"plain"}),")"]})]})},titleClassName:t.columnTitle,className:t.column,cellContent:{kind:"simple",render:function(e){return(0,r.jsxs)(c.rj,{container:!0,spacing:i?1:0,alignItems:"center",children:[(0,r.jsx)(c.rj,{item:!0,xs:i?void 0:12,className:t.tokenName,children:(0,r.jsx)(y.O_,{token:e.amount.currency,iconSize:"extra-large"})}),e.isVesting&&(0,r.jsx)(c.rj,{item:!0,className:O()(t.vestedHint,(0,a.Z)({},t.vestedHintIndent,!i)),children:(0,r.jsx)(qe,{})})]})}}},{renderTitle:function(){return"Per week"},verticalAlign:"top",titleClassName:t.columnTitle,className:t.column,cellContent:{kind:"simple",render:function(e){return(0,r.jsx)(c.l1,{sum:e.amount,variant:"plain",hideSymbol:!0})}},align:"right"},{renderTitle:function(){return"Per month"},verticalAlign:"top",titleClassName:t.columnTitle,className:t.column,cellContent:{kind:"simple",render:function(e){return(0,r.jsx)(c.l1,{sum:(n=e.amount,n.div(7).mul(30)),variant:"plain",hideSymbol:!0});var n}},align:"right"}]};function Qe(e){var n=e.currentPoolBalance,t=e.nextUserBalance,a=e.currentUserBalance,i=e.rewardsPeerWeek,o=Je(),s=(0,x.Db)({from:"desktopXS"}),l=(0,x.Db)({from:"tabletSM"});return(0,r.jsx)(c.iA.Component,{rowPadding:"extra-small",titlePadding:"extra-small",indentFromHeader:"extra-small",columns:Xe({classes:o,amount:t,toggleVestedHints:l,hideBalanceSum:s}),entries:Ge({currentPoolBalance:n,rewardsPeerWeek:i,currentUserBalance:a,nextUserBalance:t})})}var Je=(0,x.ZL)((function(){return{columnTitle:{borderBottom:"none"},column:{paddingBottom:15,lineHeight:1.8},tokenName:{minWidth:95},vestedHint:{lineHeight:1.44},vestedHintIndent:{marginLeft:34}}}),{name:"RewardsTable"});function en(e){var n=e.onChange,t=e.initialValue,a=nn(),i=(0,s.useMemo)((function(){return{amount:t}}),[t]),o=(0,s.useCallback)((function(e){var t=e.values.amount;n(t)}),[n]),c=(0,s.useMemo)((function(){return new(Ce())(Me.PT).mul((0,h.WT)(18))}),[]);return(0,r.jsx)(b.l0,{initialValues:i,onSubmit:function(){},children:function(e){var n=e.handleSubmit;return(0,r.jsx)("form",{onSubmit:n,children:(0,r.jsxs)("div",{className:a.root,children:[t instanceof h.iD?(0,r.jsx)(j.OI,{name:"amount",currencies:[t.currency],placeholder:"Enter sum",allowedMax:c}):t instanceof h.dt&&(0,r.jsx)(j.Gc,{name:"amount",currencies:[t.currency],placeholder:"Enter sum",allowedMax:c}),(0,r.jsx)(b.lP,{subscription:{values:!0},onChange:o})]})})}})}var nn=(0,x.ZL)((function(){return{root:{display:"flex",wrap:"no-wrap"},currency:{display:"flex",alignItems:"center",fontSize:12,marginLeft:20,whiteSpace:"nowrap"}}}),{name:"NextUserBalanceForm"});function tn(e){var n=e.poolAddress,t=e.poolApi,a=(0,d.eM)((function(){return(0,ue.aj)([t.getPoolBaseCurrency$(n),t.getPoolBalance$(n),t.getUserBalance$(n),t.getRewardsPerWeek$(n)]).pipe((0,le.U)((function(e){var n=(0,i.Z)(e,4),t=n[0],r=n[1],a=n[2],o=n[3];return{baseCurrency:t,poolBalance:r,userBalance:a.withValue((0,h.Io)(a.toBN(),a.currency.decimals,"floor",2)),rewardsPerWeek:o,hasRewards:Boolean(o.simple.length||o.vesting.length)}})))}),[t,n]);return(0,r.jsx)(c.gb,{data:a,children:function(e){var n=e.baseCurrency,t=e.poolBalance,a=e.userBalance,i=e.rewardsPerWeek;return e.hasRewards?(0,r.jsx)(rn,{baseCurrency:n,poolBalance:t,userBalance:a,rewardsPerWeek:i}):null}})}function rn(e){var n=e.baseCurrency,t=e.poolBalance,a=e.userBalance,o=e.rewardsPerWeek,u=an(),m=(0,l.h_)(),f=(0,s.useState)((0,Ye.B)(a,n)),p=f[0],g=f[1],j=(0,d.eM)((function(){return(0,ue.aj)([m.prices.toLiquidityAmountInDollars$(t),m.prices.toLiquidityAmountInDollars$(a),m.prices.toLiquidityAmountInDollars$(p)]).pipe((0,le.U)((function(e){var n=(0,i.Z)(e,3),t=n[0],r=n[1],a=n[2];return{poolBalanceLq:t,userBalanceLq:r,nextUserBalanceLq:a.withValue((0,h.Io)(a.toBN(),a.currency.decimals,"floor",2))}})))}),[m,a,p,t]),x=(0,s.useCallback)((function(e){g(e)}),[]);return(0,r.jsx)(c.gb,{data:j,children:function(e){var n=e.poolBalanceLq,t=e.userBalanceLq,i=e.nextUserBalanceLq;return(0,r.jsxs)(c.rj,{container:!0,direction:"column",children:[(0,r.jsx)(c.rj,{item:!0,children:"Calculate your approximate rewards"}),(0,r.jsx)(c.rj,{item:!0,className:u.input,children:(0,r.jsx)(en,{onChange:x,initialValue:a})}),(0,r.jsx)(c.rj,{item:!0,className:u.table,children:(0,r.jsx)(Qe,{nextUserBalance:i,currentUserBalance:t,currentPoolBalance:n,rewardsPeerWeek:o})})]})}})}var an=(0,x.ZL)((function(){return{input:{marginTop:20},table:{marginTop:30}}}),{name:"RewardsCalculatorTable"}),on=t(5631),sn=t(96381),cn=t(20630),ln=t.n(cn),un=u.yd.app.pages.rewards.distributedVestedRewards;function dn(){var e=(0,u.qM)().t,n=mn(),t=(0,l.h_)(),i=(0,d.eM)((function(){return t.web3Manager.account$.pipe((0,sn.w)((function(e){return e?t.vestedRewards.getUserDistributedRewards$(e,9e5):on.E})),(0,sn.w)((function(e){var n=e.delphi,r=e.dex;return t.prices.toLiquidityAmountInDollars$([].concat((0,p.Z)(r),(0,p.Z)(n.filter((function(e){return(0,v.Nv)(e.currency,"adel")})))))})),(0,le.U)((function(e){return(0,v.Z9)(e,"$")})))}),[t]),o=i.foldOption((function(){return!0}),(function(e){return e.isZero()||void 0}));return(0,r.jsx)(c.Pg,{className:O()(n.root,(0,a.Z)({},n.withBackground,o)),background:{imageUrl:o&&ln()},children:(0,r.jsx)(c.gb,{data:i,children:function(t){return(0,r.jsxs)(r.Fragment,{children:[t.gt(0)&&(0,r.jsxs)("div",{className:n.metric,children:[(0,r.jsx)(c.ZT,{className:n.title,children:e(un.title.getKey())}),(0,r.jsx)(c.l1,{className:n.value,sum:t})]}),(0,r.jsx)(c.ZT,{className:n.description,children:e(un.description.getKey())})]})}})})}var mn=(0,x.ZL)((function(){return{root:{},metric:{marginBottom:16,display:"flex",flexDirection:"column"},title:{fontSize:16,marginBottom:7},value:{fontSize:22,fontWeight:300},description:{fontWeight:300,"$withBackground &":{marginBottom:75}},withBackground:{}}}),{name:"DistributedVestingRewards"})},28277:function(e,n,t){"use strict";t.d(n,{i:function(){return i},D:function(){return o}});var r=t(14626),a=t(34215);function i(e){var n="string"===typeof e?e:e.address;return(0,r.bZ)(n,a.u_.contracts.adelStakingPool)}function o(e,n){return!i(e)||!n.isZero()}},51392:function(e,n,t){"use strict";function r(e){switch(e.module){case"staking":return[e.poolToken];case"savings":return e.tokens;case"vaultsV1":case"vaultsV2":return[e.underlyingToken]}}t.d(n,{V:function(){return r}})}}]);