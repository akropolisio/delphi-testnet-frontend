(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{39636:function(e,t,r){"use strict";var n=r(22122),a=r(2949),i=r(67294),o=(r(45697),r(86010)),s=r(1182),l=r(32692),c=r(52543),d=r(82285),p=r(79895),u=r(93871),m=r(43366),g=r(8920),f={left:"right",right:"left",top:"down",bottom:"up"};var x={enter:m.x9.enteringScreen,exit:m.x9.leavingScreen},h=i.forwardRef((function(e,t){var r=e.anchor,c=void 0===r?"left":r,m=e.BackdropProps,h=e.children,w=e.classes,j=e.className,v=e.elevation,b=void 0===v?16:v,S=e.ModalProps,k=(S=void 0===S?{}:S).BackdropProps,y=(0,a.Z)(S,["BackdropProps"]),T=e.onClose,Z=e.open,A=void 0!==Z&&Z,O=e.PaperProps,P=void 0===O?{}:O,N=e.SlideProps,I=e.TransitionComponent,D=void 0===I?d.Z:I,C=e.transitionDuration,M=void 0===C?x:C,K=e.variant,B=void 0===K?"temporary":K,W=(0,a.Z)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),L=(0,g.Z)(),E=i.useRef(!1);i.useEffect((function(){E.current=!0}),[]);var X=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?f[t]:t}(L,c),F=i.createElement(p.Z,(0,n.Z)({elevation:"temporary"===B?b:0,square:!0},P,{className:(0,o.default)(w.paper,w["paperAnchor".concat((0,u.Z)(X))],P.className,"temporary"!==B&&w["paperAnchorDocked".concat((0,u.Z)(X))])}),h);if("permanent"===B)return i.createElement("div",(0,n.Z)({className:(0,o.default)(w.root,w.docked,j),ref:t},W),F);var U=i.createElement(D,(0,n.Z)({in:A,direction:f[X],timeout:M,appear:E.current},N),F);return"persistent"===B?i.createElement("div",(0,n.Z)({className:(0,o.default)(w.root,w.docked,j),ref:t},W),U):i.createElement(s.Z,(0,n.Z)({BackdropProps:(0,n.Z)({},m,k,{transitionDuration:M}),BackdropComponent:l.Z,className:(0,o.default)(w.root,w.modal,j),open:A,onClose:T,ref:t},W,y),U)}));t.ZP=(0,c.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(h)},23059:function(e,t,r){"use strict";var n=r(95318),a=r(20862);t.Z=void 0;var i=a(r(67294)),o=(0,n(r(2108)).default)(i.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=o},51029:function(e){e.exports="/_next/static/images/1c92f19328e8753e41dd5a5f4cf67aad.svg"},79147:function(e){e.exports="/_next/static/images/bf42e24979a468c4176863469f571914.svg"},75357:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $e}});var n=r(85893),a=r(67294),i=r(23461),o=r(26265),s=r(32292),l=r(94184),c=r.n(l),d=r(96381),p=r(55709),u=r(75142),m=r(18170),g=r(10324),f=r(41458),x=r(14945),h=r(26723);function w(e){var t=e.showWalletButton,r=j(),a=(0,h.Db)({to:"tabletXS"});return(0,n.jsxs)("header",{className:r.root,children:[(0,n.jsx)("div",{className:r.logo,children:(0,n.jsx)(g.rU,{className:r.logo,href:"https://akropolis.io/",target:"_blank",rel:"noopener noreferrer",underline:"none",children:(0,n.jsx)(f.ev,{fontSize:"inherit",hideText:a})})}),t&&(0,n.jsx)(x.$,{}),a&&(0,n.jsx)("div",{className:r.rightFiller})]})}var j=(0,h.ZL)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between"},logo:(0,o.Z)({fontSize:e.spacing(5)},e.breakpoints.up("tabletXS"),{marginRight:"auto"}),rightFiller:{width:37}}}),{name:"SwapHeader"}),v=r(74222),b=r(5631),S=r(14626),k=r(40183),y=r(58955),T=r(52048),Z=r(34215),A=r(35586),O=k.yd.features.swap.actionsCard;function P(){var e=N(),t=(0,k.qM)().t,r=(0,T.h_)(),a=(0,y.eM)((function(){return r.swap.getSwapParams$()}),[r]);return(0,n.jsx)("div",{className:e.root,children:(0,n.jsx)(g.gb,{data:a,children:function(r){var a=r.swapStop;return(0,n.jsx)(g.Countdown,{endDate:a.getTime(),children:function(r){var a=r.completed,i=r.timeLeft;return(0,n.jsx)("div",{className:e.countdownBox,children:a?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:e.timeLeft,children:i}),(0,n.jsx)("div",{className:e.description,children:t(O.countdownDescription.getKey())})]})})}})}})})}var N=(0,h.ZL)((function(e){return{root:{maxWidth:475},countdownBox:(0,o.Z)({padding:"12px 12px 8px 12px",background:"radial-gradient(circle at 31% 30%, #594aff, #3b2ece 72%)",borderRadius:6},e.breakpoints.up("tabletXS"),{padding:"18px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),timeLeft:{fontSize:28,lineHeight:1,fontWeight:300},description:{fontSize:16}}}),{name:"EndOfSwapCountdown"}),I=r(81542);function D(){var e=C(),t=(0,k.qM)().t,r=(0,I.Eu)().openModal,i=(0,a.useCallback)((function(){r()}),[r]),o=t(k.yd.features.swap.actionsCard.authButtonText.getKey());return(0,n.jsx)(g.zx,{color:"primary",variant:"contained",onClick:i,className:e.root,children:o})}var C=(0,h.ZL)((function(){return{root:{minWidth:"unset"}}}),{name:"AuthButton"}),M=r(28140),K=r(89346),B=r(13550),W=r.n(B),L=r(93147),E=k.yd.features.swap.swapForm;function X(e){var t=e.amount,r=e.additionalAmounts,a=e.title,i=e.additionalContent,o=e.availableToSwap,s=F(),l=(0,k.qM)().t;return(0,n.jsxs)(g.rj,{className:s.root,container:!0,justify:"space-between",alignItems:"flex-start",children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)("span",{children:a})}),(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.l1,{sum:t,hideSymbol:!0})}),(o||!(null===r||void 0===r||!r.length))&&(0,n.jsx)(g.rj,{item:!0,xs:12,children:(0,n.jsxs)(g.rj,{container:!0,justify:"space-between",spacing:1,children:[(0,n.jsx)(g.rj,{item:!0,children:o&&(0,n.jsx)("div",{className:s.limitsInfo,children:l(E.limit.getKey(),{adelAmount:o.toShortString()})})}),(0,n.jsx)(g.rj,{item:!0,xs:!0,children:!(null===r||void 0===r||!r.length)&&(0,n.jsx)("div",{className:s.additionalAmounts,children:l(E.additionalAmounts.getKey(),{amounts:r.map((function(e){return e.toShortString()})).join("\n&\xa0")})})})]})}),i]})}var F=(0,h.ZL)((function(e){return{root:{lineHeight:"normal"},limitsInfo:{fontSize:12,opacity:.5,whiteSpace:"nowrap"},additionalAmounts:(0,o.Z)({fontSize:12,opacity:.5,textAlign:"right"},e.breakpoints.up("tabletXS"),{whiteSpace:"pre-wrap"})}}),{name:"SwapHeader"}),U=r(21786),$=r(25630);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z=Z.u_.contracts.adelVAkroSwap,H=k.yd.features.swap.swapForm;function q(e){var t=e.amountToSwap,r=e.onCancel,i=e.onSuccessfulTransaction,o=e.adelPriceInAkro,s=e.transactionType,l=(0,T.h_)(),c=(0,k.qM)().t,u=V(),f=(0,a.useCallback)((function(){return"swapFromAdel"===s?l.web3Manager.account$.pipe((0,d.w)((function(e){return e&&t?l.erc20.hasMultipleApprove$([t],e,z):(0,b.c)()}))):(0,m.of)(!0)}),[l,s,t]),x=(0,a.useCallback)((function(e){var r=e.submitting;return!t||t.isZero()?null:(0,n.jsx)(U.s,{approveSpender:z,tokenAmounts:[t],freezeApprovingStatus:r})}),[t]),h=(0,a.useCallback)((function(e){var r=e.valid;return"swapFromAdel"===s?r&&t&&!t.isZero()?l.web3Manager.account$.pipe((0,d.w)((function(e){return e?l.erc20.hasMultipleApprove$([t],e,z).pipe((0,p.U)((function(e){return!e}))):(0,b.c)()}))):(0,m.of)(!0):(0,m.of)(!1)}),[l,s,t]);return(0,n.jsx)(g.Modal,{isOpen:null!==t,onClose:r,children:t&&(0,n.jsx)(L.W6,{payload:t,canCalcTermsAndEstimatedGas$:f,getTransaction:function(){return{transaction:l.swap[s],makeTransactionOptions:function(){return"swapFromAdel"===s?t:void 0}}},content:{title:(0,n.jsx)("span",{className:u.confirmationTitle,children:c(H.confirmationTitle.getKey())}),hideDivider:!0,renderBeforeEstimatedGas:"swapFromAdel"===s?x:void 0,hideTermsAndEstimatedGas$:h},onSuccessfulTransaction:i,submitButtonText:c(H.confirm.getKey()),children:(0,n.jsxs)(g.rj,{item:!0,xs:!0,children:[(0,n.jsx)("div",{className:u.confirmationText,children:c(H.confirmationText.getKey(),{adelAmount:t.toFormattedString(void 0,!1),akroAmount:t.mul(o).div((0,S.WT)(18)).toFormattedString(void 0,!1)})}),(0,n.jsxs)("div",{className:u.termsInfo,children:[c(H.termsInfo.getKey())," ",(0,n.jsx)(g.rU,{className:u.termsLink,href:$.tF,target:"_blank",rel:"noopener noreferrer",title:c(H.termsLink.getKey()),underline:"none",children:c(H.termsLink.getKey())}),"."]})]})})})}var V=(0,h.ZL)((function(e){return{confirmationTitle:{fontWeight:300},confirmationText:{marginBottom:30,fontWeight:300},termsInfo:R({},(0,h.no)(e)),termsLink:R(R({},(0,h.no)(e)),{},{color:"#d93cef","&:hover":{color:"inherit"},"&:active":{paddingBottom:2,borderBottom:"1px solid #d93cef"}})}}),{name:"SwapForm"});function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=k.yd.features.swap.swapForm,Q=new(W())(Z.ZZ).mul((0,S.WT)(18));function ee(e){var t=e.amountInAdel,r=e.availableToSwap,i=e.rewardsFromStaking,o=void 0===i?[]:i,s=e.adelPriceInAkro,l=e.title,c=e.withInput,d=e.transactionType,p=e.alignItems,u=void 0===p?"center":p,m=te(),x=(0,k.qM)().t,w=(0,h.Db)({from:"tabletXS"}),j=(0,a.useMemo)((function(){return{amount:"swapFromAdel"===d&&t.gt(r)?r:t}}),[d,t,r]),v=(0,a.useState)(null),b=v[0],T=v[1],A=(0,a.useCallback)((function(){return T(null)}),[]),O=o.find((function(e){return(0,S.bZ)(Z.u_.tokens.ADEL,e.currency.address)})),P=o.filter((function(e){return!(0,S.bZ)(Z.u_.tokens.ADEL,e.currency.address)})),N=t.lt(r)?t:r,I=(0,y.n0)({maxValue:N,maxErrorTKey:t.lt(r)?k.yd.utils.validation.insufficientFunds.getKey():k.yd.utils.validation.swapLimitExceeded.getKey(),required:!0,moreThanZero:!0}),D=(0,a.useCallback)((function(e){return T(e.amount)}),[]),C=(0,a.useCallback)((function(){return A()}),[A]),B=(0,a.useCallback)((function(){A()}),[A]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(K.l0,{onSubmit:D,subscription:{submitError:!0,submitting:!0,dirtySinceLastSubmit:!0,hasValidationErrors:!0},initialValues:j,children:function(e){var a=e.handleSubmit;return(0,n.jsx)("form",{onSubmit:a,children:(0,n.jsx)(K.lP,{subscription:{values:!0},children:function(e){var a=W(e.values.amount),i=a.amountToSwap,o=a.isOverLimitSwap,p=a.willReturnToWallet;return(0,n.jsxs)(g.rj,Y(Y({container:!0,direction:w?"row":"column",spacing:1},w&&{alignItems:u}),{},{children:[(0,n.jsx)(g.rj,{item:!0,tabletXS:5,className:m.amountsIn,children:(0,n.jsx)(X,Y(Y({amount:t,title:l,additionalAmounts:(O?[O]:[]).concat(P)},"swapFromAdel"!==d&&o&&{availableToSwap:r}),c&&{additionalContent:(0,n.jsx)(g.rj,{item:!0,xs:12,children:(0,n.jsx)(L.Gc,{className:m.walletInput,name:"amount",currencies:[t.currency],placeholder:"Enter sum",validate:I,maxValue:N,hideCurrencySelect:!0,allowedMax:Q})})}))}),(0,n.jsxs)(g.rj,{item:!0,tabletXS:7,container:!0,wrap:"nowrap",children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(f.UV,{className:m.arrow})}),(0,n.jsxs)(g.rj,{item:!0,zeroMinWidth:!0,className:m.amountsOut,children:[(0,n.jsx)(g.l1,{sum:s.mul(i).div((0,S.WT)(18))}),!!p.length&&(0,n.jsx)(g.ZT,{className:m.returnedToWallet,children:x(J.toWallet.getKey(),{amounts:p.map((function(e){return e.toShortString()})).join("\n&\xa0")})})]}),(0,n.jsxs)(g.rj,{item:!0,className:m.swapButtonContainer,children:[(0,n.jsx)(g.zx,{color:"primary",variant:"contained",type:"submit",size:"small",className:m.swapButton,children:x(J.buttonText.swapFromAdel.getKey())}),(0,n.jsx)(q,{amountToSwap:b&&W(b).amountToSwap,adelPriceInAkro:s,onCancel:C,onSuccessfulTransaction:B,transactionType:d})]})]})]}))}})})}})});function W(e){var t=e.add(O||0),n=t.gt(r),a="swapFromAdel"===d?e:(0,S.VV)(t,r);return{isOverLimitSwap:n,willReturnToWallet:[t.sub(a)].concat((0,M.Z)(P)).filter((function(e){return e.gt(0)})),amountToSwap:a}}}var te=(0,h.ZL)((function(e){return{walletInput:{marginTop:2},arrow:(0,o.Z)({fontSize:32,marginRight:10},e.breakpoints.up("tabletXS"),{margin:"0 20px"}),swapButtonContainer:{marginLeft:"auto"},swapButton:{minWidth:"82px !important",maxWidth:150,whiteSpace:"normal"},amountsIn:{marginTop:6},amountsOut:{marginTop:6},returnedToWallet:(0,o.Z)({fontSize:12,opacity:.5,lineHeight:"normal"},e.breakpoints.up("tabletXS"),{whiteSpace:"pre-wrap"})}}),{name:"SwapForm"}),re=r(23059);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=k.yd.features.swap.actionsCard;function oe(e){var t=e.title,r=e.swappedInAdel,a=e.swappedInAkro,i=se(),o=(0,k.qM)().t;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:i.header,children:[(0,n.jsx)(re.Z,{className:i.icon}),(0,n.jsx)("span",{className:i.title,children:t})]}),(0,n.jsx)("div",{className:i.infoText,children:o(ie.swappedInfoText.getKey(),{adelAmount:r.toFormattedString(),akroAmount:a.toFormattedString()})})]})}var se=(0,h.ZL)((function(e){return{header:{display:"flex",alignItems:"center"},icon:{width:"20px",height:"20px",color:"#fff"},title:{marginLeft:8,fontSize:16},infoText:ae(ae({},(0,h.no)(e)),{},{color:"rgba(255,255,255,0.5)"})}}),{name:"SwappedInfo"}),le=k.yd.features.swap.actionsCard;function ce(e){var t=e.isUserConnected,r=de(),i=(0,k.qM)().t,o=(0,T.h_)(),l=(0,y.eM)((function(){return o.web3Manager.account$.pipe((0,d.w)((function(e){return e?(0,u.aj)([(0,u.aj)([o.swap.getUserSwappedAmount$(e),o.swap.getAdelOnDexes$(e),o.swap.getAdelPriceInAkro$(),o.swap.getUserAvailableToSwapAdel$(e)]),(0,u.aj)([o.erc20.getBalance$(Z.u_.tokens.ADEL,e),o.staking.getUserBalance$(Z.u_.contracts.adelStakingPool,e),o.rewards.getSimpleSavingsPoolsRewards$(e),o.staking.getUserSimplePoolRewards$(e),o.erc20.getToken$(Z.u_.tokens.ADEL),o.staking.getUserRewardsByPool$(e,Z.u_.contracts.adelStakingPool)])]).pipe((0,p.U)((function(e){var t=(0,s.Z)(e,2),r=(0,s.Z)(t[0],4),n=r[0],a=r[1],i=r[2],o=r[3],l=(0,s.Z)(t[1],6),c=l[0],d=l[1],p=l[2],u=l[3],m=l[4],g=l[5];return{swappedAmount:n,walletBalance:c,adelInStaking:d,adelInStakingRewards:(0,A.bn)(u.map((function(e){return e.amount})).filter((function(e){return e.currency.address===Z.u_.tokens.ADEL})),new S.dt(0,m)),adelInSavingsRewards:(0,A.bn)(p.map((function(e){return e.amount})).filter((function(e){return e.currency.address===Z.u_.tokens.ADEL})),new S.dt(0,m)),adelOnDexes:a,adelPriceInAkro:i,availableToSwap:o,rewardsFromAdelStaking:g}}))):(0,b.c)()})))}),[o]);return(0,n.jsxs)(g.Pg,{className:r.root,children:[(0,n.jsx)(P,{}),!t&&(0,n.jsx)("div",{className:r.authButton,children:(0,n.jsx)(D,{})}),t&&(0,n.jsx)(g.gb,{data:l,children:function(e){var t=e.swappedAmount,o=e.walletBalance,s=e.adelInStaking,l=e.adelInStakingRewards,c=e.adelInSavingsRewards,d=e.adelOnDexes,p=e.adelPriceInAkro,u=e.availableToSwap,m=e.rewardsFromAdelStaking,f=o.isZero()||u.isZero()?!t.walletSwapped.isZero()&&(0,n.jsx)(oe,{title:i(le.walletSwapped.getKey()),swappedInAdel:t.walletSwapped,swappedInAkro:p.mul(t.walletSwapped).div((0,S.WT)(18))}):(0,n.jsx)(ee,{amountInAdel:o,availableToSwap:u,adelPriceInAkro:p,title:i(le.personalWallet.getKey()),transactionType:"swapFromAdel",withInput:!0,alignItems:"flex-end"}),x=s.isZero()||u.isZero()?!t.stakingSwapped.isZero()&&(0,n.jsx)(oe,{title:i(le.stakingSwapped.getKey()),swappedInAdel:t.stakingSwapped,swappedInAkro:p.mul(t.stakingSwapped).div((0,S.WT)(18))}):(0,n.jsx)(ee,{availableToSwap:u,amountInAdel:s,rewardsFromStaking:m,adelPriceInAkro:p,title:i(le.adelInStaking.getKey()),transactionType:"swapFromStakedAdel",alignItems:"flex-start"}),h=l.isZero()||u.isZero()?!t.rewardsSwapped.isZero()&&(0,n.jsx)(oe,{title:i(le.rewardsSwapped.getKey()),swappedInAdel:t.rewardsSwapped,swappedInAkro:p.mul(t.rewardsSwapped).div((0,S.WT)(18))}):(0,n.jsx)(ee,{availableToSwap:u,amountInAdel:l,adelPriceInAkro:p,title:i(le.adelInStakingRewards.getKey()),transactionType:"swapFromRewardAdel",alignItems:"flex-start"}),w=Boolean(f||x||h);return(0,n.jsxs)("div",{className:r.inputs,children:[(0,n.jsx)("div",{className:r.swapItem,children:f}),(0,n.jsx)("div",{className:r.itemsSeparator}),(0,n.jsx)("div",{className:r.swapItem,children:x}),(0,n.jsx)("div",{className:r.itemsSeparator}),(0,n.jsx)("div",{className:r.swapItem,children:h}),!d.total.isZero()&&(0,n.jsxs)(n.Fragment,{children:[w&&(0,n.jsx)("div",{className:r.dexSeparator}),(0,n.jsx)("div",{className:r.dexItem,children:(0,n.jsx)(g.rj,{container:!0,children:(0,n.jsx)(g.rj,{item:!0,xs:12,tabletXS:5,children:(0,n.jsx)(X,{amount:d.total,title:i(le.adelOnDexes.getKey())})})})}),(0,n.jsx)("div",{className:r.dexesInfo,children:d.pools.map((function(e,t){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(g.rU,{href:e.link,target:"_blank",rel:"noopener noreferrer",title:e.name,color:"textPrimary",children:e.name})," ",e.balance.toFormattedString(void 0,!1),t!==d.pools.length-1&&", "]},e.address)}))})]}),(0,n.jsx)("div",{className:r.dexSeparator}),(0,n.jsxs)("div",{className:r.note,children:["Note:"," ",!l.isZero()&&!u.isZero()&&"Currently, rewards swap only include rewards accrued from staking before vesting was implemented."," ","Swap of vesting rewards will come at a later date, please wait for updates."]}),!c.isZero()&&!u.isZero()&&(0,n.jsx)("div",{className:r.note,children:"To swap ADEL rewards from savings pools that accrued before vesting, you will need to withdraw them to your personal wallet to swap."})]})}})]})}var de=(0,h.ZL)((function(e){var t,r,n;return{root:(0,o.Z)({display:"flex",flexDirection:"column",backgroundColor:"#212131",height:"100%"},e.breakpoints.up("desktopMD"),{padding:30}),authButton:{marginTop:30},inputs:(0,o.Z)({marginTop:19},e.breakpoints.up("tabletXS"),{marginTop:30}),swapItem:(t={marginBottom:20},(0,o.Z)(t,e.breakpoints.up("tabletXS"),{width:650}),(0,o.Z)(t,"&:empty",{marginBottom:0}),t),itemsSeparator:(0,o.Z)({paddingTop:14,borderTop:"solid 1px rgba(255,255,255,0.1)"},e.breakpoints.up("tabletXS"),{display:"none"}),dexSeparator:{paddingTop:18,borderTop:"solid 1px rgba(255,255,255,0.1)","$dexesInfo+&":{marginTop:18}},dexItem:(0,o.Z)({},e.breakpoints.up("tabletXS"),{width:590}),dexesInfo:(r={marginTop:3,fontSize:12,opacity:.5,lineHeight:1.5},(0,o.Z)(r,e.breakpoints.up("tabletXS"),{maxWidth:645}),(0,o.Z)(r,e.breakpoints.up("desktopXS"),{maxWidth:"100%"}),r),note:(n={fontSize:12,opacity:.5,lineHeight:1.25,"&+&":{marginTop:8}},(0,o.Z)(n,e.breakpoints.up("tabletXS"),{maxWidth:645}),(0,o.Z)(n,e.breakpoints.up("desktopXS"),{maxWidth:"100%"}),n)}}),{name:"ActionsCard"}),pe=r(51029),ue=r.n(pe),me=k.yd.features.swap.adelMetrics;function ge(e){var t=e.isSwapTimeOver,r=fe(),a=(0,k.qM)().t,i=(0,T.h_)(),o=(0,y.eM)((function(){return i.web3Manager.account$.pipe((0,d.w)((function(e){return e?(0,u.aj)([i.swap.getUserAvailableToSwapAdel$(e),i.swap.getUserSwappedAmount$(e),i.swap.getAdelPriceInAkro$()]).pipe((0,p.U)((function(e){var t=(0,s.Z)(e,3),r=t[0],n=t[1],a=t[2];return{availableToSwap:r,received:n.totalSwapped.mul(a).div((0,S.WT)(18)),swapped:n.totalSwapped}}))):(0,b.c)()})))}),[i]);return(0,n.jsx)(g.gb,{data:o,children:function(e){var i=e.availableToSwap,o=e.received,s=e.swapped;return(0,n.jsx)(g.Pg,{className:r.root,background:{imageUrl:ue(),position:"right bottom"},children:(0,n.jsxs)(g.rj,{container:!0,spacing:4,direction:s.isZero()?"column-reverse":"column",children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.MetricWithDescription,{title:a(me.swapped.getKey()),value:s})}),(0,n.jsx)(g.rj,{item:!0,children:t&&o?(0,n.jsx)(g.MetricWithDescription,{title:a(me.received.getKey()),value:o}):i&&(0,n.jsx)(g.MetricWithDescription,{title:a(me.available.getKey()),value:i,description:i.isZero()?null:a(me.accrued.getKey())})})]})})}})}var fe=(0,h.ZL)((function(e){return{root:(0,o.Z)({backgroundColor:"#212131",minHeight:255,padding:"30px 20px 20px"},e.breakpoints.up("desktopXS"),{padding:30})}}),{name:"AdelMetrics"}),xe=r(30381),he=r.n(xe),we=k.yd.features.swap.claimForm;function je(e){var t=e.disabled,r=ve(),i=(0,k.qM)().t,o=(0,T.h_)(),s=(0,a.useCallback)((function(){return(0,m.of)(!0)}),[]),l=(0,a.useCallback)((function(){return{transaction:o.swap.claim,makeTransactionOptions:function(){}}}),[o]),c=(0,y.eM)((function(){return o.web3Manager.account$.pipe((0,d.w)((function(e){return e?o.swap.getUserAvailableToClaimAkro$(e):(0,b.c)()})))}),[o]);return(0,n.jsx)(g.mH,{color:"primary",variant:"contained",className:r.root,disabled:t,content:i(we.claimButtonText.getKey()),children:function(e){var t=e.closeModal;return(0,n.jsx)(L.W6,{payload:null,canCalcTermsAndEstimatedGas$:s,getTransaction:l,submitButtonText:"Claim",onSuccessfulTransaction:t,content:{title:(0,n.jsx)("span",{className:r.formTitle,children:i(we.title.getKey())}),hideDivider:!0},children:(0,n.jsx)(g.rj,{item:!0,xs:!0,children:(0,n.jsx)(g.gb,{data:c,children:function(e){return(0,n.jsx)("div",{className:r.description,children:i(we.description.getKey(),{akroAmount:e.toFormattedString(void 0,!1)})})}})})})}})}var ve=(0,h.ZL)((function(){return{root:{padding:"5px 20px",minHeight:30},formTitle:{fontWeight:300},description:{fontWeight:300}}}),{name:"ClaimFormButton"}),be=r(79147),Se=r.n(be),ke=k.yd.features.swap.akroMetrics;function ye(){var e=Te(),t=(0,k.qM)().t,r=(0,T.h_)(),a=(0,h.Db)({from:"desktopXS"}),i=(0,y.eM)((function(){return r.web3Manager.account$.pipe((0,d.w)((function(e){return e?(0,u.aj)([r.swap.getUserAvailableToClaimAkro$(e),r.swap.getUserDueToUnlockAkro$(e),r.swap.getVAkroOnWallet$(e),r.swap.getSwapParams$()]).pipe((0,p.U)((function(e){var t=(0,s.Z)(e,4);return{availableToClaim:t[0],dueToUnlock:t[1],vAkroOnWallet:t[2],swapParams:t[3]}}))):(0,b.c)()})))}),[r]);return(0,n.jsx)(g.gb,{data:i,children:function(r){var i=r.availableToClaim,s=r.dueToUnlock,l=r.vAkroOnWallet,d=r.swapParams,p=d.isSwapTimeOver,u=d.isClaimingAvailable,m=d.vestingStop,f=d.claimingStart;return(0,n.jsx)(g.Pg,{className:e.root,background:{imageUrl:Se(),position:"right bottom"},children:(0,n.jsx)(g.rj,{container:!0,spacing:1,direction:"column",children:(0,n.jsxs)(g.rj,{item:!0,container:!0,spacing:4,direction:p&&a?"row":"column",justify:"space-between",children:[(0,n.jsx)(g.rj,{item:!0,className:c()(e.claimAvailable,(0,o.Z)({},e.isSwapTimeOver,p)),children:(0,n.jsx)(g.MetricWithDescription,{title:t(ke.available.getKey()),value:i,description:(0,n.jsxs)(g.rj,{className:e.claimButton,container:!0,direction:"column",spacing:1,children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(je,{disabled:i.isZero()||!u})}),!u&&(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.ZT,{className:e.startClaimDate,children:t(ke.startClaimingDate.getKey(),{date:he()(f).format("MMM DD")})})})]})})}),(0,n.jsx)(g.rj,{item:!0,className:e.vAKROBalance,children:(0,n.jsx)(g.MetricWithDescription,{title:t(ke.onWallet.getKey()),value:l})}),(0,n.jsx)(g.rj,{item:!0,className:e.locked,children:(0,n.jsx)(g.MetricWithDescription,{title:t(ke.dueToUnlock.getKey()),value:s,description:t(ke.unlockDate.getKey(),{date:he()(m).format("DD MMM YYYY")})})})]})})})}})}var Te=(0,h.ZL)((function(e){return{root:(0,o.Z)({backgroundColor:"#212131",minHeight:255,padding:"30px 20px 20px"},e.breakpoints.up("desktopXS"),{padding:"30px 30px 40px"}),startClaimDate:{fontSize:12,fontWeight:300,maxWidth:160},claimButton:{marginTop:4},claimAvailable:{order:4,"&$isSwapTimeOver":{order:1}},vAKROBalance:{order:2},locked:{order:3},isSwapTimeOver:{}}}),{name:"AkroMetrics"}),Ze=k.yd.features.swap;function Ae(){var e=Oe(),t=(0,k.qM)().t;return(0,n.jsx)("div",{className:e.root,children:(0,n.jsx)(g.ZT,{children:t(Ze.endedSwap.getKey())})})}var Oe=(0,h.ZL)((function(){return{root:{padding:"15px 20px",backgroundImage:"radial-gradient(circle at 31% 30%, #594aff, #3b2ece 77%)",borderRadius:6}}}),{name:"EndedSwapHint"}),Pe=k.yd.features.swap.swapTerms;function Ne(e){var t=e.isSwapTimeOver,r=e.isUserConnected,a=e.adelPriceInAkro,i=De(),o=(0,k.qM)().t;return(0,n.jsx)(g.Pg,{className:i.root,children:(0,n.jsxs)(g.rj,{container:!0,spacing:4,direction:"column",children:[(0,n.jsxs)(g.rj,{item:!0,container:!0,spacing:{xs:2,tabletXS:0},justify:"space-between",alignItems:"center",children:[(0,n.jsxs)(g.rj,{item:!0,xs:!0,container:!0,spacing:2,alignItems:"center",wrap:"wrap-reverse",className:i.swapDuration,children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(Ie,{title:o(Pe.duration.title.getKey()),term:o(Pe.duration.term.getKey()),description:o(Pe.duration.description.getKey())})}),t&&(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(Ae,{})})]}),t&&!r&&(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(D,{})})]}),(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(Ie,{title:o(Pe.vesting.title.getKey()),term:o(Pe.vesting.term.getKey()),description:o(Pe.vesting.description.getKey())})}),(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(Ie,{title:o(Pe.rate.title.getKey()),term:o(Pe.rate.term.getKey(),{adelPriceInAkro:a.toShortString(0,!1)}),description:(0,n.jsxs)(n.Fragment,{children:[o(Pe.rate.description.getKey())," ",(0,n.jsx)(g.rU,{href:$.tF,color:"inherit",target:"_blank",rel:"noopener noreferrer",children:o(Pe.rate.link.getKey())})]})})})]})})}function Ie(e){var t=e.title,r=e.term,a=e.description,i=De();return(0,n.jsxs)(g.rj,{container:!0,direction:"column",children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.ZT,{className:i.title,children:t})}),(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.ZT,{className:i.term,children:r})}),(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.ZT,{className:i.description,children:a})})]})}var De=(0,h.ZL)((function(e){var t;return{root:(t={padding:"30px 20px 20px"},(0,o.Z)(t,e.breakpoints.up("desktopXS"),{padding:"30px 30px 45px 30px"}),(0,o.Z)(t,"backgroundColor","#212131"),t),swapDuration:{minWidth:270},title:{},term:{fontSize:22,fontWeight:300},description:{fontWeight:300,lineHeight:"24px"}}}),{name:"SwapTerms"}),Ce=k.yd.features.swap.warningCard;function Me(e){var t=e.type,r=Ke(),a=(0,k.qM)().t,i={"user-dont-have-swap-limit":a(Ce.dontHaveLimitTitle.getKey()),"user-not-used-swap":a(Ce.notUsedSwapTitle.getKey())}[t],o={"user-dont-have-swap-limit":a(Ce.dontHaveLimitDescription.getKey()),"user-not-used-swap":a(Ce.notUsedSwapDescription.getKey())}[t];return(0,n.jsx)(g.Pg,{className:r.root,children:(0,n.jsxs)(g.rj,{container:!0,spacing:2,direction:"column",children:[(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.ZT,{className:r.title,children:i})}),(0,n.jsx)(g.rj,{item:!0,children:(0,n.jsx)(g.ZT,{className:r.description,children:o})})]})})}var Ke=(0,h.ZL)((function(e){var t;return{root:(t={padding:"30px 20px"},(0,o.Z)(t,e.breakpoints.up("desktopXS"),{padding:"30px 30px 45px 30px"}),(0,o.Z)(t,"backgroundColor","#212131"),t),title:{fontSize:32,fontWeight:300,lineHeight:1.15},description:{fontWeight:300,lineHeight:"24px"}}}),{name:"SwapTerms"}),Be=r(48750),We=r(36182),Le=r(60178);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(){var e=(0,T.h_)(),t=(0,y.eM)((function(){return e.web3Manager.account$.pipe((0,d.w)((function(t){return(0,u.aj)([(0,m.of)(t),e.swap.getSwapParams$(),e.swap.getAdelPriceInAkro$(),t?e.swap.getSwapInfo$(t):(0,m.of)(null),t?e.swap.getUserSwappedAmount$(t):(0,m.of)(null)])})),(0,p.U)((function(e){var t=(0,s.Z)(e,5),r=t[0],n=t[1],a=t[2],i=t[3],o=t[4];return{account:r,adelPriceInAkro:a,isUserExistInSnapshot:!!i,isSwapTimeOver:n.isSwapTimeOver,isUserUsedSwap:!!o&&o.totalSwapped.gt(0)}})))}),[e]);return(0,n.jsx)(g.gb,{data:t,children:function(e){return(0,n.jsx)(Fe,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}})}function Fe(e){var t=e.isSwapTimeOver,r=e.isUserUsedSwap,a=e.account,i=e.isUserExistInSnapshot,l=e.adelPriceInAkro,d=Ue(),p=(0,h.Db)({from:"desktopXS"}),u=(0,h.Db)({to:"desktopMD"}),m=Boolean(a),f={"claim-info":(0,n.jsx)(ye,{}),"swap-info":(0,n.jsx)(ge,{isSwapTimeOver:t}),actions:(0,n.jsx)(ce,{isUserConnected:m}),terms:(0,n.jsx)(Ne,{isUserConnected:m,isSwapTimeOver:t,adelPriceInAkro:l}),"warning-dont-have-limit":(0,n.jsx)(Me,{type:"user-dont-have-swap-limit"}),"warning-not-used-swap":(0,n.jsx)(Me,{type:"user-not-used-swap"})};return(0,n.jsxs)(g.Ar,{children:[(0,n.jsx)(g.Ar.Header,{className:c()(d.header,(0,o.Z)({},d.smallPadding,!p)),children:(0,n.jsx)(w,{showWalletButton:m})}),(0,n.jsx)(g.Ar.Container,{className:c()(d.container,(0,o.Z)({},d.smallPadding,!p)),children:(0,n.jsx)("div",{className:d.content,children:(0,n.jsxs)(Be.t,{fallback:function(e){return(0,n.jsx)(We.d2,{error:e})},children:[(0,n.jsx)(g.ZT,{className:d.title,children:t?"Claim AKRO after ADEL swap":"Swap ADEL to vAKRO"}),(0,n.jsx)(g.rj,{container:!0,spacing:{xs:2,desktopXS:6},children:function(){if(m)return t?r?[["claim-info",p?8:6],["swap-info",p?4:6],["terms",12]]:[["warning-not-used-swap",12],["terms",12]]:i?r?[["actions",p?8:12],["swap-info",p?4:6],["claim-info",p?4:6],["terms",p?8:12]]:[["actions",p?8:12],["swap-info",p?4:12],["terms",12]]:[["warning-dont-have-limit",12],["terms",12]];return t?[["terms",!0]]:[["actions",p?6:12],["terms",p?6:12]]}().map((function(e){var t=(0,s.Z)(e,2),r=t[0],a=t[1];return(0,n.jsx)(g.rj,{item:!0,xs:12,tabletXS:a,children:f[r]},r)}))})]})})}),(0,n.jsx)(g.Ar.Footer,{className:c()(d.footer,(0,o.Z)({},d.smallPadding,u)),children:(0,n.jsx)(v.$,{navItems:Le.Jy})})]})}var Ue=(0,h.ZL)((function(e){var t,r,n,a,i;return{header:(t={paddingBottom:10},(0,o.Z)(t,e.breakpoints.up("tabletXS"),{paddingBottom:20}),(0,o.Z)(t,e.breakpoints.up("desktopXS"),{paddingBottom:0}),t),footer:(0,o.Z)({marginTop:20},e.breakpoints.up("desktopXS"),{marginTop:0}),content:(r={flexGrow:1,background:"#13131b",borderRadius:6,padding:"15px 10px"},(0,o.Z)(r,e.breakpoints.up("tabletXS"),{padding:"30px 20px"}),(0,o.Z)(r,e.breakpoints.up("desktopXS"),{padding:"50px 50px 70px"}),r),title:(n={lineHeight:1.15,fontSize:22,marginBottom:20},(0,o.Z)(n,e.breakpoints.up("tabletXS"),{fontWeight:300}),(0,o.Z)(n,e.breakpoints.up("desktopXS"),{fontSize:40,marginBottom:30}),n),container:(a={flexGrow:1,display:"flex",flexDirection:"column",marginTop:10,marginBottom:10},(0,o.Z)(a,e.breakpoints.up("tabletXS"),{marginTop:20,marginBottom:20}),(0,o.Z)(a,e.breakpoints.up("desktopXS"),{marginTop:0,marginBottom:0,paddingTop:30,paddingBottom:30}),a),smallPadding:(i={paddingLeft:10,paddingRight:10},(0,o.Z)(i,e.breakpoints.up("tabletXS"),{paddingLeft:20,paddingRight:20}),(0,o.Z)(i,e.breakpoints.up("desktopXS"),{paddingLeft:40,paddingRight:50}),i)}}),{name:"SwapPage"});var $e=function(){return(0,n.jsx)(i.R,{children:(0,n.jsx)(Xe,{})})}},94484:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return r(75357)}])},50843:function(e,t){"use strict";t.Z=function(){return!1}},33287:function(e,t){"use strict";t.Z=function(){return!0}}},function(e){e.O(0,[774,833,351,568,499,452,182,461],(function(){return t=94484,e(e.s=t);var t}));var t=e.O();_N_E=t}]);