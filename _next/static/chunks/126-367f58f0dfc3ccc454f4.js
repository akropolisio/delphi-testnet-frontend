(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[126],{39636:function(e,t,n){"use strict";var r=n(22122),o=n(2949),a=n(67294),i=(n(45697),n(86010)),s=n(1182),c=n(32692),l=n(52543),u=n(82285),p=n(79895),d=n(93871),f=n(43366),g=n(8920),v={left:"right",right:"left",top:"down",bottom:"up"};var h={enter:f.x9.enteringScreen,exit:f.x9.leavingScreen},m=a.forwardRef((function(e,t){var n=e.anchor,l=void 0===n?"left":n,f=e.BackdropProps,m=e.children,k=e.classes,b=e.className,j=e.elevation,P=void 0===j?16:j,x=e.ModalProps,y=(x=void 0===x?{}:x).BackdropProps,O=(0,o.Z)(x,["BackdropProps"]),S=e.onClose,w=e.open,Z=void 0!==w&&w,A=e.PaperProps,D=void 0===A?{}:A,B=e.SlideProps,T=e.TransitionComponent,C=void 0===T?u.Z:T,$=e.transitionDuration,E=void 0===$?h:$,L=e.variant,M=void 0===L?"temporary":L,_=(0,o.Z)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),I=(0,g.Z)(),N=a.useRef(!1);a.useEffect((function(){N.current=!0}),[]);var U=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?v[t]:t}(I,l),R=a.createElement(p.Z,(0,r.Z)({elevation:"temporary"===M?P:0,square:!0},D,{className:(0,i.default)(k.paper,k["paperAnchor".concat((0,d.Z)(U))],D.className,"temporary"!==M&&k["paperAnchorDocked".concat((0,d.Z)(U))])}),m);if("permanent"===M)return a.createElement("div",(0,r.Z)({className:(0,i.default)(k.root,k.docked,b),ref:t},_),R);var z=a.createElement(C,(0,r.Z)({in:Z,direction:v[U],timeout:E,appear:N.current},B),R);return"persistent"===M?a.createElement("div",(0,r.Z)({className:(0,i.default)(k.root,k.docked,b),ref:t},_),z):a.createElement(s.Z,(0,r.Z)({BackdropProps:(0,r.Z)({},f,y,{transitionDuration:E}),BackdropComponent:c.Z,className:(0,i.default)(k.root,k.modal,b),open:Z,onClose:S,ref:t},_,O),z)}));t.ZP=(0,l.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(m)},23059:function(e,t,n){"use strict";var r=n(95318),o=n(20862);t.Z=void 0;var a=o(n(67294)),i=(0,r(n(2108)).default)(a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=i},62947:function(e,t,n){"use strict";n.d(t,{en:function(){return P},Ro:function(){return J},qj:function(){return m},eo:function(){return te},Pu:function(){return k},G3:function(){return g},uL:function(){return l},Lz:function(){return y},Hp:function(){return p}});var r=n(85893),o=n(67294),a=n(10324),i=n(58955),s=n(26723),c=n(52048);function l(e){var t=e.poolAddress,n=e.variant,o=e.withSI,s=e.iconInsteadSymbol,l=(0,c.h_)(),p=(0,i.eM)((function(){return l.staking.getPoolBalance$(t)}),[l,t]),d=u();return(0,r.jsx)(a.gb,{data:p,children:function(e){return(0,r.jsx)(a.l1,{sum:e,variant:n,withSI:o,iconInsteadSymbol:s,classes:s?{symbol:d.icon}:void 0})}})}var u=(0,s.ZL)((function(){return{icon:{display:"inline-flex",alignItems:"center"}}}),{name:"StakingPoolLiquidity"});function p(e){var t=e.poolAddress,n=e.variant,o=(0,c.h_)(),s=(0,i.eM)((function(){return o.user.getStakingPoolBalance$(t)}),[o,t]);return(0,r.jsx)(a.gb,{data:s,children:function(e){return(0,r.jsx)(a.l1,{sum:e.toSignificantValue(),variant:n})}})}var d=n(60992);var f=n(55709);(0,f.U)((function(e){return e.reduce((function(e,t){return e.add(t)}),(0,d.B)(0,"$"))}));function g(e){var t=e.poolAddress,n=(0,c.h_)(),o=(0,i.eM)((function(){return n.user.getStakingDepositLimit$(t)}),[n,t]);return(0,r.jsx)(a.gb,{data:o,children:function(e){return e&&(0,r.jsx)(a.DepositLimit,{limit:e})}})}var v=n(32292),h=n(75142);function m(e){var t=e.poolAddress,n=(0,c.h_)(),o=(0,i.eM)((function(){return(0,h.aj)([n.staking.getPoolBalance$(t),n.staking.getPoolCapacity$(t)]).pipe((0,f.U)((function(e){var t=(0,v.Z)(e,2);return{poolBalance:t[0],poolCapacity:t[1]}})))}),[n,t]);return(0,r.jsx)(a.gb,{data:o,children:function(e){return e.poolCapacity?(0,r.jsx)(a.PoolFillingLimit,{capacity:e.poolCapacity,filled:e.poolBalance,flexStart:!0,showFilledTextOnTablet:!0}):null}})}function k(e){var t=(0,c.h_)(),n=b(),o=e.poolAddress,s=(0,i.eM)((function(){return t.staking.getPool$(o)}),[t,o]);return(0,r.jsx)(a.gb,{data:s,children:function(e){return e&&(0,r.jsx)(a.T1,{tokenAddress:e.poolToken.address,className:n.tokenIcon})}})}var b=(0,s.ZL)((function(){return{tokenIcon:{fontSize:30}}}),{name:"StakingPoolDepositAssets"}),j=n(89778);function P(e){var t=e.poolAddress,n=e.variant,o=e.title,s=(0,c.h_)(),l=(0,i.eM)((function(){return s.APYCalculation.getPoolAPYs$(t,"staking")}),[s,t]);return(0,r.jsx)(a.gb,{data:l,children:function(e){return e?(0,r.jsx)(j.J,{apyInfo:e,variant:n,title:o}):null}})}var x=n(18332);function y(e){var t=e.poolAddress,n=(0,c.h_)(),a=(0,o.useMemo)((function(){return{getPoolBalance$:function(){var e;return(e=n.staking).getPoolBalance$.apply(e,arguments)},getRewardsPerWeek$:function(){var e;return(e=n.staking).getRewardsPerWeek$.apply(e,arguments)},getPoolBaseCurrency$:function(){var e;return(e=n.staking).getPoolToken$.apply(e,arguments)},getUserBalance$:function(){var e;return(e=n.user).getStakingPoolBalance$.apply(e,arguments)}}}),[n]);return(0,r.jsx)(x.Yv,{poolAddress:t,poolApi:a})}var O=n(26265),S=n(94184),w=n.n(S),Z=n(28190),A=n(14626),D=n(40183),B=n(95859),T=n(34215),C=n(14945),$=n(28277),E=n(38347),L=n(65518),M=n(18170),_=n(93147);function I(e){var t=e.pool,n=e.onSuccessfulWithdraw,s=(0,c.h_)(),l=(0,D.qM)().t,u=(0,i.eM)((function(){return s.user.getUnlockedStakingPoolBalance$(t.address)}),[s,t.address]),p=(0,o.useCallback)((function(){return(0,M.of)(!0)}),[]);return(0,r.jsx)(a.gb,{data:u,children:function(e){return(0,r.jsx)(_.W6,{payload:null,canCalcTermsAndEstimatedGas$:p,getTransaction:function(){return{transaction:s.staking.withdraw,makeTransactionOptions:function(){return{poolAddress:t.address,amount:e}}}},content:{title:"Unstake"},submitButtonText:"Unstake",onSuccessfulTransaction:n,children:(0,r.jsx)(a.rj,{item:!0,xs:!0,children:l(D.yd.modules.staking.withdrawDialog.getKey(),{amount:e?null===e||void 0===e?void 0:e.toFormattedString():"\u23f3"})})})}})}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=e.pool,n=e.disabled,o=(0,E.Z)(e,["pool","disabled"]),i=(0,L.j)(["delphi"]).getOrElse((function(){return[!0]})),s=(0,v.Z)(i,1)[0];return(0,r.jsx)(a.mH,U(U({},o),{},{disabled:n||s,content:"Unstake",children:function(e){var n=e.closeModal;return(0,r.jsx)(I,{pool:t,onSuccessfulWithdraw:n})}}))}var z,H=n(99441);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=(z={},(0,O.Z)(z,T.u_.tokens.AKRO.toLowerCase(),T.u_.contracts.akroStakingPool),(0,O.Z)(z,T.u_.tokens.ADEL.toLowerCase(),T.u_.contracts.adelStakingPool),z);function q(e){var t=e.pool,n=e.hint,i=e.disabled,s=(0,E.Z)(e,["pool","hint","disabled"]),l=(0,c.h_)(),u=(0,L.j)(["delphi"]).getOrElse((function(){return[!0]})),p=(0,v.Z)(u,1)[0],d=(0,o.useMemo)((function(){return{deposit:l.staking.deposit,getTokenBalance$:function(){var e;return(e=l.user).getTokenBalance$.apply(e,arguments)},getAvailableForDeposit$:function(){var e;return(e=l.user).getStakingDepositLimit$.apply(e,arguments)},hasMultipleApprove$:function(){var e;return(e=l.user).hasMultipleApprove$.apply(e,arguments)},getTotalDepositFee$:null}}),[l]),f=W[t.poolToken.address.toLowerCase()];return(0,r.jsx)(a.mH,K(K({},s),{},{disabled:i||p,content:"Stake",hint:n,children:function(e){var n=e.closeModal;return(0,r.jsx)(H.Z4,{pool:t,allocateApi:d,approveSpender:f||"",onSuccessfulDeposit:n,submitButtonText:"Stake",formTitle:"Stake"})}}))}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=e.pool,n=e.depositHintVariant,s=void 0===n?"auto":n,l=e.depositButtonProps,u=e.withdrawButtonProps,p=(0,D.qM)().t,d=X(),f=function(e){var t=(0,c.h_)();return(0,i.eM)((function(){return(0,h.aj)([t.user.getTokenBalance$(e.poolToken.address),t.user.getStakingDepositLimit$(e.address),t.user.getUnlockedStakingPoolBalance$(e.address)])}),[t,e]).map((function(t){var n=(0,v.Z)(t,3),r=n[0],o=n[1],a=n[2],i=((0,$.i)(e.address)?"HIDDEN_STAKING_POOL":(null===o||void 0===o?void 0:o.isZero())&&"DEPOSIT_LIMIT_EXHAUSTED")||r.isZero()&&"INSUFFICIENT_BALANCE"||null;return{isStakeAvailable:!i,unavailableStakeReason:i,isUnstakeAvailable:!a.isZero()}}))}(t),g={size:"small",color:"primary",variant:"outlined",pool:t},m=(0,o.useMemo)((function(){return(0,A.bZ)(t.address,T.u_.contracts.adelStakingPool)}),[t]);return(0,r.jsx)(C.J,{connectForText:p(D.yd.features.stake.toStake.getKey()),children:(0,r.jsx)(a.gb,{data:f,children:function(e){var n=e.isStakeAvailable,o=e.isUnstakeAvailable,i=e.unavailableStakeReason,c=!n&&["INSUFFICIENT_BALANCE","HIDDEN_STAKING_POOL"].includes(i),f=i&&p(D.yd.modules.staking.disabledDepositHint[i].getKey(),{token:t.poolToken.symbol}),v=s&&"auto"!==s?s:o?"tooltip":"text",h="text"===v&&c&&f&&(0,r.jsx)(V,{hint:f}),k=o&&(0,r.jsx)(R,Y(Y({},g),u));return(0,r.jsxs)(a.rj,{container:!0,spacing:1,wrap:"nowrap",alignItems:"center",children:[(0,r.jsx)(a.rj,{item:!0,className:w()((0,O.Z)({},d.swapButtonContainer,m)),children:m?(0,r.jsx)(a.zx,{color:"primary",variant:"contained",size:"small",component:a.NextLink,to:B.Ge.swap.getRedirectPath(),className:d.swapButton,children:p(D.yd.modules.staking.swapButtonText.getKey())}):(0,r.jsx)(q,Y(Y({},g),{},{disabled:!n,hint:"tooltip"===v&&c&&f?f:void 0},l))}),!(!h&&!k)&&(0,r.jsxs)(a.rj,{item:!0,children:[h,k]})]})}})})}function V(e){var t=e.hint,n=X();return(0,r.jsxs)(a.rj,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,r.jsx)(a.rj,{item:!0,children:(0,r.jsx)(Z.zM,{color:"inherit",className:n.icon})}),(0,r.jsx)(a.rj,{item:!0,className:n.hint,children:t})]})}var X=(0,s.ZL)((function(e){return{icon:{fontSize:16,color:"#89898D"},hint:Y({},(0,s.no)(e)),swapButtonContainer:{order:1},swapButton:{marginLeft:10,minWidth:"82px !important"}}}),{name:"StakingPoolCard"}),Q=n(50843),ee=n(33287);function te(e){var t=e.pool,n=e.fullHeight,o=t.address,s=t.poolName,u=t.poolToken,d=t.protocol,f=(0,c.h_)(),g=(0,i.eM)((function(){return f.user.getStakingPoolBalance$(o)}),[f,o]).map((function(e){return!e.isZero()})).getOrElse(Q.Z),v=(0,i.eM)((function(){return f.staking.getPoolBalance$(o)}),[f,o]).map((function(e){return e.isZero()})).getOrElse(ee.Z);return(0,r.jsx)(a.PoolCard,{poolName:s,tokens:[u],isCardActive:g,fullHeight:n,protocol:d,content:{suppliedByUser:{content:(0,r.jsx)(p,{poolAddress:o}),customTitle:"My Stake"},poolLiquidity:{content:(0,r.jsx)(l,{poolAddress:o,withSI:!0}),customTitle:"Staked overall"},APY:{content:(0,r.jsx)(P,{poolAddress:o,variant:"plain"})},linkToMoreInfo:{to:B.Ge.staking.pool.id.getRedirectPath({id:t.address}),disabled:v},availableForDeposit:(0,r.jsx)(ne,{poolAddress:o}),actions:{triggers:(0,r.jsx)(J,{pool:t})}}})}function ne(e){var t=e.poolAddress,n=(0,c.h_)(),o=(0,i.eM)((function(){return n.user.getStakingDepositLimit$(t)}),[n,t]);return(0,r.jsx)(a.gb,{data:o,progressProps:{width:"100%"},children:function(e){return e&&(0,r.jsx)(a.DepositLimit,{limit:e})}})}},50843:function(e,t){"use strict";t.Z=function(){return!1}},33287:function(e,t){"use strict";t.Z=function(){return!0}},63896:function(e,t,n){"use strict";var r=n(93993),o=n(99619),a=(0,r.Z)((function(e){for(var t=(0,o.Z)(e),n=t.length,r=[],a=0;a<n;)r[a]=e[t[a]],a+=1;return r}));t.Z=a},57858:function(e,t,n){"use strict";var r=n(62576),o=n(81353),a=n(21273),i=n(1006),s=(0,o.Z)((function(e,t){return(0,i.Z)((0,a.Z)(r.Z)(e),t)}));t.Z=s}}]);